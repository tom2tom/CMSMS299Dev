/*!
jQuery plugin ContextMenu v.1.2 <https://github.com/GGaritaJ/ggContextMenu>
(C) 2018 Gerardo Garita <info@ggaritaj.com>
License: GPL3
*/
!function($,e,t,n){function i(t,n,i){var o,s,l,c=$(e),a=c.width(),r=c.height(),f=$(t),u=f.width(),v=f.height();i+v>r?(i-=v+18,o="bottom"):o="top",n+u>a?(n-=u+18,s="right"):s="left",(l={top:i+"px",left:n+"px"})["border-"+o+"-"+s+"-radius"]=0,f.removeAttr("style").css(l)}$.fn.ContextMenu=function(t){try{$(this).each(function(){var n=this;this.cfg=$.extend({},$.fn.ContextMenu.defaults,t||{}),$(this).on("click",function(t){t.preventDefault();var o="#"+$(t.currentTarget).attr("context-menu"),s=function(t){var n=getComputedStyle(t);if("fixed"===n.position)return e;for(var i="absolute"===n.position,o=/(auto|scroll)/,s=t;s=s.parentElement;)if(n=getComputedStyle(s),(!i||"static"!==n.position)&&o.test(n.overflow+n.overflowY+n.overflowX))return s;return e}(t.currentTarget);return $("."+this.cfg.mainclass).removeClass("active").removeAttr("style"),$(o).find(".active").removeClass("active"),"function"==typeof this.cfg.beforeShow&&this.cfg.beforeShow(this,o),i(o,t.clientX,t.clientY),$(o).addClass("active"),$("html").on("click.ctxmenu",function(e){$(o).removeClass("active").removeAttr("style").find("ul.sub-level, li.sub-level").removeClass("active").removeAttr("style"),"function"==typeof n.cfg.afterHidden&&n.cfg.afterHidden(n,o),$("html").off("click.ctxmenu"),$(s).off("scroll.ctxmenu")}),$(s).on("scroll.ctxmenu",function(){var e="."+n.cfg.mainclass;$(e+", "+e+" ul.sub-level, "+e+" li.sub-level").removeClass("active").removeAttr("style"),$("html").off("click.ctxmenu"),$(s).off("scroll.ctxmenu")}),!1}).find("li.sub-level").on("click",function(e){var t=$(this).find("ul.sub-level")[0];if($(t).hasClass("active"))0!==$(this).find("ul").find(e.target).length?($(t).addClass("active"),$(this).addClass("active")):($(t).removeClass("active"),$(this).removeClass("active"));else{$(t).addClass("active"),$(this).addClass("active");var o="#"+$(e.currentTarget).closest("."+n.cfg.mainclass).attr("id"),s=$(o).position();i(o,s.left,s.top)}})})}catch(e){console.log("Error: "+e+".")}finally{setTimeout(function(){e.dispatchEvent(new Event("resize"))},1e3)}},$.fn.ContextMenu.defaults=$.extend({},{beforeShow:!1,afterHidden:!1,mainclass:"ContextMenu"},$.fn.ContextMenu.defaults||{})}(jQuery,window,document);