//colors
$white: white;
$fore_text: #17174f; //bluish black TODO a color which cascades to font-icons via anchors
$grid_link_text: #147fdb;
$list_link_text: #147fdb;
$drop_back: #badeba;
$drop_color: invert($drop_back);
$drop_focus: #babade;
$focus_color: red;
$list_header: $fore_text; //TODO
$list_header_back: #c0c0c0; //silver
$sep_border: #c5c5c5; //silverish
$nav_back: #fefefe; //kinda white
$progress_color: white;
$progress_back: #12a112; //mid green

$button_text: #444;
$button_back: #f5f5f5;
$button_active_back: #d6d6d6;
$button_disabled: #7e6767;
$button_disabled_back: #c6b9b9;
$button_border: #e6e6e6;
$button_active_border: #b3b3b3;

$modal_overlay: rgba(0,0,0,0.8);

//fonts
$font_0: cmsms-filepicker;
$font_id: 44234;

//urls
$url_0: url('../font/#{$font_0}.eot?#{$font_id}');
$url_1: url('../font/#{$font_0}.eot?#{$font_id}#iefix');
$url_2: url('../font/#{$font_0}.woff2?#{$font_id}');
$url_3: url('../font/#{$font_0}.woff?#{$font_id}');
$url_4: url('../font/#{$font_0}.ttf?#{$font_id}');
$url_5: url('../font/#{$font_0}.svg?#{$font_id}##{$font_0}');

@font-face {
	font-family: '#{$font_0}';
	src: $url_0;
	src: $url_1 format('embedded-opentype'),
		 $url_2 format('woff2'),
		 $url_3 format('woff'),
		 $url_4 format('truetype'),
		 $url_5 format('svg');
	font-weight: normal;
	font-style: normal;
}
[class^="fifp-"]:before {
	font-family: '#{$font_0}';
	font-style: normal;
	font-weight: normal;
	speak: none;
	display: inline-block;
	text-decoration: inherit;
	width: 1em;
	text-align: center;
	font-variant: normal;
	text-transform: none;
	line-height: 1em;
}
[class*=" fifp-"]:before {
	font-family: '#{$font_0}';
	font-style: normal;
	font-weight: normal;
	speak: none;
	display: inline-block;
	text-decoration: inherit;
	width: 1em;
	text-align: center;
	font-variant: normal;
	text-transform: none;
	line-height: 1em;
}

.fifp-folder-close:before { content: '\e600'; } // '' */
.fifp-folder-add:before { content: '\e601'; } // '' */
.fifp-folder-open:before { content: '\e602'; } // '' */
.fifp-upload:before { content: '\e603'; } // '' */
.fifp-level-up:before { content: '\e604'; } // '' */
.fifp-all:before { content: '\e607'; } // '' */
.fifp-file:before { content: '\e608'; } // '' */
.fifp-image:before { content: '\e609'; } // '' */
.fifp-audio:before { content: '\e60a'; } // '' */
.fifp-video:before { content: '\e60b'; } // '' */
.fifp-zip:before { content: '\e60c'; } // '' */
.fifp-delete:before { content: '\e60f'; } // '' */

body {
	margin: 0;
	padding: 0;
	font-size: 0.9em;
}
a {
	color: $fore_text; // never used as such, but drives some font-icon colors
	text-decoration: none;
}
img {
	border: none;
}

.visuallyhidden {
	clip: rect(0 0 0 0);
	overflow: hidden;
	position: absolute;
	width: 1px;
	height: 1px;
	margin: -1px;
	border: 0;
	padding: 0;
	z-index: -1;
}

#fp-progress,
#fp-progress-inner {
	overflow: hidden;
	height: 0.3em; // see also: #fp-progress and #fp-progress-text
	margin: 0;
	border: 0;
	border-radius: 0;
}
#fp-progress {
	display: none; // changed at runtime when needed
	width: 100%;
    margin-top: calc(0.45em + 3px); // space for 'spill' of #fp-progress-text, to get it vertical-center on the bar
}
#fp-progress-inner {
	width: 0; // changed during upload
	background-color: $progress_back;
	z-index: 92; // c.f. dropzone & progress-text
}
#fp-progress-text {
	overflow: visible;
	position: absolute;
	top: 0;
	left: 50%;
	-ms-transform: translateX(-50%);
	-o-transform: translateX(-50%);
	-moz-transform: translateX(-50%);
	-webkit-transform: translateX(-50%);
	transform: translateX(-50%);
	margin: 0;
	border: 0;
	padding: 3px 6px;
	text-align: center;
	vertical-align: middle;
	background-color: $progress_back;
	color: $progress_color;
	font-size: 1em;
	font-weight: bold;
	z-index: 95; // above dropzone
}
#fp-dropzone {
	position: absolute;
	top: 0;
	right: 0;
	height: 3em;
	width: 9em;
	z-index: 90; // must be compatible with ui popup z-index

	display: flex;
	justify-content: center;
	align-items: center;
	border: 2px dashed $focus_color;
	background-color: $drop_back;
	color: $drop_color;
	&.dragging {
		// dropzone when dragging therein
		background-color: $drop_focus;
	}
}

#fp-navbar {
	width: 100%;
	padding: 10px 0;
	background-color: $nav_back;
}
#fp-navbar-inner {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
	> div {
	    flex-grow: 0;
	}
}

//.fp-upload {
//	margin-right: 4px;
//	font-size: 1.5em;
//}

#fp-type-filter {
	display: flex;
    flex-wrap: wrap;
    align-items: center;
    font-size: 1.2em;
}
#fp-filter-title {
    margin: 0 0.5em;
    text-align: right; // TODO align endwards
}

.ui-dialog-buttonset button.ui-button {
	background: none;
}

.ui-dialog-buttonset button.ui-button,
.fp-button {
	margin: 2px;
	padding: 3px 6px;
	font-size: 1.1em;
	font-weight: normal;
	color: $button_text;
	cursor: pointer;
	background-color: $button_back;
	border: 1px solid $button_border;
	border-radius: 2px;
	&.active {
		background-color: $button_active_back;
		border: 1px solid $button_active_border;
	}
	&:hover {
		background-color: $button_active_back;
	}
	&.disabled {
		color: $button_disabled;
		background-color: $button_disabled_back;
		cursor: default;
		&:hover {
			background-color: $button_disabled_back;
		}
	}
}

// same as .fp-button active
#fp-file-upload:focus + .fp-button {
	background-color: $button_active_back;
	border: 1px solid $button_active_border;
}

// .fp-button elements used for debugging only
#view-list, #view-grid {
   display: none;
}
// same as .fp-button
#fp-file-upload:hover + .fp-button {
   background-color: $button_active_back;
}

#fp-breadcrumb {
	border: 0;
	padding: 0 0 5px 0;
	.fifp-folder-open:before {
		font-size: 1.8em;
		vertical-align: middle;
	}
}
//#fp-breadcrumb-text {
//	margin: 0;
//	padding: 0;
//	height: 2em;
//}

.fp-delete {
	cursor: pointer;
	&:hover {
		color: $focus_color;
	}
}

#fp-list {
	&.list-view {
		display: table;
		> .fpitem {
			display: table-row;
			&.header {
				display: table-header-group;
				background-color: $list_header_back;
				color: $list_header;
			}
			> div {
				display: table-cell;
				border-bottom: 1px solid $button_active_back;
				padding: 2px 5px;
			}
			.fp-thumb {
				max-width: 50px;
				overflow: hidden;
				//text-align: center;
				//vertical-align: middle;
				img.svgimg {
					max-height: 3em;
				}
			}
			.filename a {
				position: relative;
				// styling ibid BUT
				font-size: inherit;
				color: $list_link_text; // CHECKME effect on font-icons
				text-decoration: none;
			}
		}
		.icon-no-thumb {
			font-size: 2em;
			//color: $fore_text; anchor-color applies
		}
		.fifp-delete::before {  //see also .fp-delete
			font-size: 1.5em;
		}
		.ingrid {
			display: none;
		}
	}
	&.grid-view {
		display: flex;
		flex-wrap: wrap;
		align-items: flex-start;
		align-content: flex-start;
		height: 100%;
		> .fpitem {
			flex-shrink: 0;
			margin: 3px;
			border: 1px solid $button_active_back;
			padding: 1px; // to see the border
			.fp-thumb {
				display: flex;
				justify-content: flex-end;
				align-items: center;
				width: 140px;
				height: 90px;
				overflow: hidden;
				a {
					flex-grow: 0.5;
				}
				img {
					margin-right: -1.2em; // SEE ALSO no-thumb. calc needed ?
					&.svgimg {
						max-height: 70px;
						width: 3em;
					}
				}
				> span.fp-delete {
					align-self: flex-start;
					order: 1;
				}
			}
			.icon-no-thumb {
				margin-right: -0.4em;
				font-size: 3em;
				//color: $fore_text; anchor-color applies
				i {
					vertical-align: middle;
					text-align: center;
				}
			}
			.filename {
				background-color: $white; //mebbe
				text-align: center;
				a {
					white-space: nowrap;
					font-weight: normal;
					font-size: 1.1em;
					text-align: center;
					text-decoration: none;
					color: $grid_link_text; // CHECKME effect on font-icons
				}
			}
			.delete {
				width: 1.5em;
				height: 1.5em;
				border-radius: 3px;
			}
			.fifp-delete:before { //see also .fp-delete
				font-size: 1.5em;
				opacity: 0.7;
				&:hover {
					opacity: 1;
				}
			}
		}
		.inlist  {
			display: none;
		}
	}
}

/* popup dialogs */

/* not replaceable inside jQui */
.ui-widget-overlay {
	background: rgba(0, 0, 0, 0.8);
}
.anon-header {
	border: 0;
	background: $nav_back;
}
.popup-header {
	border: 1px solid $sep_border;
	background: $list_header_back;
}
.popup-title {
	text-align: center;
	vertical-align: middle;
	color: $list_header;
}
.popup-body {
	background-color: $nav_back;
}

/* in mkdir popup dialog */
.dlg-options {
   // TODO also support rtl ie input then label
	padding-top: 0.5em;
}

.listicon {
	border: 0;
	width: 2em;
	height: 2em;
	vertical-align: middle;
}

@media screen and (max-width: 430px) {
	#fp-list.list-view .filename {
		display: none;
	}
	// TODO hide #fp-list.list-view filesize data
	#fp-dropzone {
		width: 3em;
	}
}
