/*!
jquery alertable plugin V.1.2 <github.com/claviska/jquery-alertable>
(C) Cory LaViska <https://twitter.com/claviska>
License: MIT
*/
!function($,e,t){"use strict";var a,l,n,r,o,i;function u(t,u,f){(i=e.activeElement).blur(),a&&$(a).add(l).remove();var c=$.extend({},$.fn.alertable.defaults,f);a=$(c.modal).hide(),l=$(c.overlay).hide(),c.html?a.find("#alertable-message").html(u):a.find("#alertable-message").text(u),"prompt"===t?(a.find("#alertable-prompt").html(c.prompt),o=$("#alertable-prompt input",a)):(a.find("#alertable-prompt").remove(),o=null);var p,b=a.find("#alertable-buttons");1===b.length?(p=c.okName?'<button id="alertable-ok" type="button">'+c.okName+"</button>":c.okButton||"",n=p?$(p):"","alert"===t?r="":(p=c.cancelName?'<button id="alertable-cancel" type="button">'+c.cancelName+"</button>":c.cancelButton||"",r=p?$(p):""),c.ltr?b.append(n).append(r):b.append(r).append(n)):(n=null,r=null);$(c.container).append(l).append(a),c.show.call({modal:a,overlay:l}),"prompt"===t?o.eq(0).focus():a.find("button").eq(0).focus();var m=$.Deferred();return a.on("submit.alertable",function(e){var l,n,r=[];if(e.preventDefault(),"prompt"===t)for(n=a.serializeArray(),l=0;l<n.length;l++)r[n[l].name]=n[l].value;else r=null;d(c),m.resolve(r)}),n&&n.on("click.alertable",function(){if("prompt"===t){var e=o.val();d(c),m.resolve(e)}else d(c),m.resolve()}),o&&o.on("keydown.alertable",function(e){if(13===e.keyCode)return e.preventDefault(),!1}).on("keyup.alertable",function(e){13===e.keyCode&&n&&n.trigger("click.alertable")}),r&&r.on("click.alertable",function(){d(c),m.reject()}),$(e).on("keyup.alertable",function(e){27===e.keyCode&&(e.preventDefault(),d(c),m.reject())}),$(e).on("focus.alertable","*",function(e){$(e.target).parents().is(".alertable")||(e.stopPropagation(),e.target.blur(),$(a).find(":input:first").focus())}),m.promise()}function d(t){t.hide.call({modal:a,overlay:l}),$(e).off(".alertable"),a.off(".alertable"),r&&r.off(".alertable"),i.focus()}$.fn.alertable={alert:function(e,t){return u("alert",e,t)},confirm:function(e,t){return u("confirm",e,t)},prompt:function(e,t){return u("prompt",e,t)}},$.fn.alertable.defaults=$.extend({},{container:"body",html:!1,ltr:!0,cancelName:"Cancel",okName:"OK",cancelButton:'<button id="alertable-cancel" type="button">Cancel</button>',okButton:'<button id="alertable-ok" type="button">OK</button>',overlay:'<div id="alertable-overlay"></div>',prompt:'<input id="alertable-input" type="text" name="value">',modal:'<form class="alertable"><div id="alertable-message"></div><div id="alertable-prompt"></div><div id="alertable-buttons"></div></form>',hide:function(){$(this.modal).add(this.overlay).fadeOut(100)},show:function(){$(this.modal).add(this.overlay).fadeIn(100)}},$.fn.alertable.defaults||{})}(jQuery,document);