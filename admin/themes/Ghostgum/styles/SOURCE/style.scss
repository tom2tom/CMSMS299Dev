// TODOs
// resolve rest of colors
// finish styling for dark theme
// correct outlining
// migrate to css-grid with fallback to flexbox

$lighttheme: true; // false for Ebonne
$leftwards: true; // false for rtl styling
$deepcontext: false; // true to support multi-level menus
$withnav: true; // false if standalone scss/css used for navigation styling

@if $leftwards {
    $start-side: left !global;
    $end-side: right !global;
} @else {
    $start-side: right !global;
    $end-side: left !global;
}

@function sidedValues($top, $right, $bottom, $left:$right) {
    @if $left != null {
        @if $leftwards {
            @return $top $right $bottom $left;
        } @else {
            @return $top $left $bottom $right;
        }
    }
    @else {
        @return $top $right $bottom $left;
    }
}

@function sidedSingle($hLength) {
    @if $leftwards {
        @return $hLength;
    } @else {
        $local: #{$hLength};
        @if str-index($local, '-') != 1 {
            @return -#{$local}; //TODO something * -1
        } @else {
            @return str-slice($local, 2); //ibid
        }
    }
}

@function sidedRadii($tl, $tr, $br, $bl:$tr) {
    @if $leftwards {
        @if $tr == $bl {
            @return $tl $tr $br;
        } @else {
            @return $tl $tr $br $bl;
        }
    } @else {
        @return $tr $tl $bl $br;
    }
}

@mixin border-radius($property) {
    -webkit-border-radius: $property;
    -moz-border-radius: $property;
    border-radius: $property;
}

@mixin box-shadow($horz: 0, $vert: 0, $color: $accent-focus, $blur: 0, $spread: 0, $inset: false) {
  @if $lighttheme {
    @if ($horz == 'none') or ($horz == 'initial') or ($horz == 'inherit') {
    -webkit-box-shadow: $horz;
    -moz-box-shadow: $horz;
    box-shadow: $horz;
    } @else {
    -webkit-box-shadow: sidedSingle($horz) $vert if($blur != 0, $blur, null) if($spread != 0, $spread,null) $color if($inset, inset, null);
    -moz-box-shadow: sidedSingle($horz) $vert if($blur != 0, $blur, null) if($spread != 0, $spread, null) $color if($inset, inset, null);
    box-shadow: sidedSingle($horz) $vert if($blur != 0, $blur, null) if($spread != 0, $spread, null) $color if($inset, inset, null);
    }
  }
}

@mixin panel-shadow($shadow_color,  $default_color) {
    @if $lighttheme {
        $horz: -.06em;
        $vert: -.06em;
        $blur: .2em;
    } @else {
        $horz: 0;
        $vert: .06em;
        $blur: .1em;
    }
    -webkit-box-shadow: sidedSingle($horz) $vert $blur $shadow_color inset, sidedSingle($horz) $vert $blur $default_color inset;
    -moz-box-shadow: sidedSingle($horz) $vert $blur $shadow_color inset, sidedSingle($horz) $vert $blur $default_color inset;
    box-shadow: sidedSingle($horz) $vert $blur $shadow_color inset, sidedSingle($horz) $vert $blur $default_color inset;
}

@mixin transition($property: all, $duration: 200, $function:'' , $delay: 0) {
  @if ($property == 'initial') or ($property == 'inherit') {
    -webkit-transition: $property;
    -moz-transition: $property;
    -o-transition: $property;
    transition: $property;
  } @else {
    @if ($duration >= 50) {
       $period: #{$duration}ms;
    } @else if ($duration > 0) {
       $period: #{$duration}s;
    } @else {
       $period: 500ms;
    }
    @if ($delay >= 50) {
       $defer: #{$delay}ms;
    } @else if ($delay > 0) {
       $defer: #{$delay}s;
    } @else {
       $defer: 0;
    }
    -webkit-transition: $property $period $function if($defer != 0, $defer, null);
    -moz-transition: $property $period $function if($defer != 0, $defer, null);
    -o-transition: $property $period $function if($defer != 0, $defer, null);
    transition: $property $period $function if($defer != 0, $defer, null);
  }
}

//Mixins from https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Mixins
@mixin flexbox {
    display: -webkit-box;
    display: -moz-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
}

@mixin flex-direction($value: row) {
    @if $value == row-reverse {
        -ms-box-direction: reverse;
        -ms-box-orient: horizontal;
        -webkit-box-direction: reverse;
        -webkit-box-orient: horizontal;
        -moz-box-direction: reverse;
        -moz-box-orient: horizontal;
    } @else if $value == column {
        -ms-box-direction: normal;
        -ms-box-orient: vertical;
        -webkit-box-direction: normal;
        -webkit-box-orient: vertical;
        -moz-box-direction: normal;
        -moz-box-orient: vertical;
    } @else if $value == column-reverse {
        -ms-box-direction: reverse;
        -ms-box-orient: vertical;
        -webkit-box-direction: reverse;
        -webkit-box-orient: vertical;
        -moz-box-direction: reverse;
        -moz-box-orient: vertical;
    } @else {
        -ms-box-direction: normal;
        -ms-box-orient: horizontal;
        -webkit-box-direction: normal;
        -webkit-box-orient: horizontal;
        -moz-box-direction: normal;
        -moz-box-orient: horizontal;
    }
    -webkit-flex-direction: $value;
    -ms-flex-direction: $value;
    flex-direction: $value;
}

@mixin flex-wrap($value: nowrap) {
    // No Webkit/FF Box fallback.
    -webkit-flex-wrap: $value;
    @if $value == nowrap {
        -ms-flex-wrap: none;
    } @else {
        -ms-flex-wrap: $value;
    }
    flex-wrap: $value;
}

@mixin flex-basis($value: auto) {
    -ms-flex-preferred-size: $value;
    -webkit-flex-basis: $value;
    flex-basis: $value;
}

@mixin flex($fg: 0, $fs: 1, $fb: auto) {
    // Set a variable to be used by box-flex properties
    $fg-boxflex: $fg;

    // Box-Flex only supports a flex-grow value so lets grab the
    // first item in the list and just return that.
    @if type-of($fg) == 'list' {
        $fg-boxflex: nth($fg, 1);
    }

    -webkit-box: $fg-boxflex;
    -moz-box: $fg-boxflex;
    -webkit-flex: $fg $fs $fb;
    -ms-flex: $fg $fs $fb;
    flex: $fg $fs $fb;
}

@mixin justify-content($value: flex-start) {
  @if $value == flex-start {
    -webkit-box-pack: start;
    -moz-box-pack: start;
    -ms-flex-pack: start;
  } @else if $value == flex-end {
    -webkit-box-pack: end;
    -moz-box-pack: end;
    -ms-flex-pack: end;
  } @else if $value == space-between {
    -webkit-box-pack: justify;
    -moz-box-pack: justify;
    -ms-flex-pack: justify;
  } @else if $value == space-around {
    -ms-flex-pack: distribute;
  } @else {
    -webkit-box-pack: $value;
    -moz-box-pack: $value;
    -ms-flex-pack: $value;
  }
  -webkit-justify-content: $value;
  justify-content: $value;
}

@mixin align-items($value: stretch) {
  @if $value == flex-start {
    -webkit-box-align: start;
    -moz-box-align: start;
    -ms-flex-align: start;
  } @else if $value == flex-end {
    -webkit-box-align: end;
    -moz-box-align: end;
    -ms-flex-align: end;
  } @else {
    -webkit-box-align: $value;
    -moz-box-align: $value;
    -ms-flex-align: $value;
  }
  -webkit-align-items: $value;
  align-items: $value;
}

// TODO converted colors to be rationalized
$color_gallery_approx: #eee; // several backgrounds
$color_silver_approx: #ccc; // various borders
//$color_bright_sun_approx: #f7ce3e;
$concrete: #f2f2f2; // td pageicon background c.f. $back-rowxsort, $back-rowsort

@if $lighttheme {
/*! CMSMS admin theme styling: Ghostgum 2018-2022 */

// Pallette
// #fcf9f3 Body/Content background, foreground on contrasting items e.g. buttons very pale cream
// #cbd4cb Accent1 titles etc light greenish grey
// #58814c Accent2 olivish/leafy green
// #3c9b0a Focused/activated/hovered elements Lighter green than Accent2
// #fff8eb Some backgrounds e.g. table-row1 Slighty darker than background
// #f2ecdf Some backgrounds e.g. table-row2, text-input Slighty darker than previous color
// #1a3225 Text on light & mid background Very dark green
// #fcf9f3 Text on dark background Same as body

    $back-color: #fcf9f3;
    $back-most: #fff; // most extreme shade like back-color several fores 1 back 2 shadows
    $back-focus: darken($back-color, 5%);
    $back-xfocus: darken($back-color, 10%);
    $back-rowsort: adjust-hue($back-focus, -25deg);
    $back-rowxsort: adjust-hue($back-xfocus, -25deg);
    $back-rowfocus: darken($back-color, 20%);
    $focus-disabled: #edebe9; //back-focus unsaturated way down

    $fore-color: #244323;
    $fore-most: #000; // most extreme shade like fore-color

    $accent1: #cbd4cb; // light greenish grey
    $accent2: #58814c; // olivish/leafy green
    $accent-focus: lighten($accent2, 15%);
    $accent-fore: #21301c; // something dark, contrast with accents

    $button-color: $back-color;
    $button-back: #8da989; // between accent1 & 2
    $button-disabled: #959e94; //$button-back unsaturated way down

    $focustext-shadow: #238005;
    $msgbox-shadow: #444;
    $box-shadow: rgba(0, 0, 0, 0.4);
    $box-shadow-default: #f5faeb; // pale olive
    $popup-shadow: $msgbox-shadow;

    $link-color: $accent2;
    $link-focus: $accent-focus;
    $nav-back: $accent2;
    $nav-focus: $accent-focus;

    $spinner-prime: accent2;
    $spinner-second: rgba(88, 129, 76, 0.4); //translucent $accent2

    $info-color: #0e2a42; // deep blue
    $info-back: #dbe7f0; // pale
    $info-title-back: saturate(darken($info-back, 30%), 25%);
    $info-title-color: lighten(complement($info-title-back), 30%);
    $info-border: darken($info-title-back, 10%);

    $success-color: #084515; // deep green
    $success-back: #daf1e0;
    $success-title-back: saturate(darken($success-back, 30%), 25%);
    $success-title-color: lighten(complement($success-title-back), 30%);
    $success-border: darken($success-title-back, 10%);

    $warn-color: #b08f0e; // brown
    $warn-back: #f7f7d4;
    $warn-title-back: saturate(darken($warn-back, 30%), 25%);
    $warn-title-color: lighten(complement($warn-title-back), 30%);
    $warn-border: darken($warn-title-back, 10%);

    $error-color: #490707; // deep red
    $error-back: #f8e2e2;
    $error-title-back: saturate(darken($error-back, 30%), 25%);
    $error-title-color: lighten(complement($error-title-back), 30%);
    $error-border: darken($error-title-back, 10%);

    $blue-color: $info-border;
    $yellow-color: $warn-border;
    $orange-color: #fc901d;
    $green-color: $success-border;
    $red-color: $error-border;
    $focus-color: #ff1a1a;
    $bubble-color: #990000; //shortcut bubble color
//~~~~~~~~~~~~~~~~~~~ TODO here
    $solid-color: #ccc; // two anchor borders

    $solid-color: #585858; //one pagerows a
    $solid-color: #eee; // one background pagerows a

    $solid-color: #f2f2f2; // one td back
    $solid-color: #f7ce3e; // one th focus outline
    $solid-color: #ff9; // abandoned ins background
//~~~~~~~~~~~~~~~
    $alert-overlay: rgba(0, 0, 0, 0.4);

    $logotext_png: url(../../assets/images/cmsms-logotext-dark.png);
    $logotext_svg: url(../../assets/images/cmsms-logotext-dark.svg);

} @else {
/*! CMSMS admin theme styling: Ebonne 2019-2022 */

    $back-color: #2e2f38;
    $back-most: #000;
    $back-focus: #44454b;
    $back-xfocus: lighten($back-color, 15%); //#505262
    $back-rowsort: saturate($back-focus, 30%); //TODO
    $back-rowxsort: saturate($back-xfocus, 30%); //TODO
    $back-rowfocus: lighten($back-color, 20%);
    $focus-disabled: darken($back-focus, 10%);

    $fore-color: #fef9ec;
    $fore-most: #fff;

    $accent1: #414658;
    $accent2: #657098;
    $accent-focus: lighten($accent2, 12%); //#8b93b1
    $accent-fore: #e2e3e9; // something light, contrast with accents

    $button-color: $fore-color;
    $button-back: $back-focus; // between accent1 & 2
    $button-disabled: #595959; //$button-back unsaturated way down

    $focustext-shadow: #054882;
    $msgbox-shadow: #ccc;
    $box-shadow: rgba(255, 255, 255, 0.3);
    $box-shadow-default: #0f253d;
    $popup-shadow: $msgbox-shadow;

    $link-color: #a4abc1; //akin to normal button bg
    $link-focus: #b3b9cb; //akin to hovered button bg
    $nav-back: $accent1;
    $nav-focus: $accent2;

    $spinner-prime: $fore-color;
    $spinner-second: rgba(101, 112, 152, 0.5); //translucent $accent2

    $info-color: #bcd8f1; // blue
    $info-back: #031a30; // dark hsl(209, 88%, 10%)
    $info-title-back: lighten($info-back, 15%);
    $info-title-color: lighten(complement($info-title-back), 10%);
    $info-border: lighten($info-back, 25%);

    $success-color: #b2fac7; // green
    $success-back: #033003;
    $success-title-back: lighten($success-back, 15%);
    $success-title-color: lighten(complement($success-title-back), 10%);
    $success-border: lighten($success-back, 25%);

    $warn-color: #f9ebb4; // yellow/brown
    $warn-back: #332200;
    $warn-title-back: lighten($warn-back, 15%);
    $warn-title-color: lighten(complement($warn-title-back), 10%);
    $warn-border: lighten($warn-back, 25%);

    $error-color: #f8b5b5; // red
    $error-back: #30030e;
    $error-title-back: lighten($error-back, 15%);
    $error-title-color: lighten(complement($error-title-back), 10%);
    $error-border: lighten($error-back, 25%);

    $blue-color: $info-title-back;
    $yellow-color: $warn-title-back;
    $orange-color: #fb8505;
    $green-color: $success-title-back;
    $red-color: $error-title-back;
    $focus-color: #e60000;
    $bubble-color: #ff6666; //shortcut bubble color

//~~~~~~~~~~~~~~~~~~~~~~~ TODO
    $solid-color: #ccc; // 2 anchor borders

    $solid-color: #585858; // one for pagerows a
    $solid-color: #eee; // one background pagerows a

    $solid-color: #f2f2f2; // one td back
    $solid-color: #f7ce3e; // one th focus outline
    $solid-color: #ff9; // abandoned ins background
// ~~~~~~~~~~~~~~~~
    $alert-overlay: rgba(255, 255, 255, 0.4);

    $logotext_png: url(../../assets/images/cmsms-logotext-light.png);
    $logotext_svg: url(../../assets/images/cmsms-logotext-light.svg);
}
//SVG url-fragment identifiers for css backgrounds are reliable only in some fairly recent browsers
// so until further notice, relevant sprite contents are also available individually
//urls
$url_0: url(../images/icons/system/external-small.png);
$url_1: url(../images/icons/system/document-list.svg); // in future, sprite.svg#document-list
$url_2: url(../images/submit-bg.png);
$url_3: url(../images/buttonssprite.png);
$url_4: url(../images/icons/extra/warn.svg);
$url_5: url(../images/icons/extra/error.svg);
$url_6: url(../images/icons/extra/success.svg);
$url_7: url(../images/icons/extra/info.svg);
$url_8: url(../images/closesprite.png);
$url_9: url(../images/icons/extra/accept.svg);
$url_10: url(../images/spinner.gif);
$url_11: url(../images/icons/extra/close.svg);
//$url_12: url(../images/layout/button-bg-tall.png); // TODO if jqUi icons used, select for light or dark?
$url_13: url(../images/navigation-bg.gif);
$url_14: url(../images/navindicators.png);
$url_15: url(../images/icons/system/help.svg); // in future, sprite.svg#help
$url_16: url(../images/icons/system/info.svg); // in future, sprite.svg#info
$url_17: url(../images/icons/extra/red.svg);
$url_18: url(../images/icons/system/bookmark.svg); // in future, sprite.svg#bookmark
$url_19: url(../images/icons/extra/sortable.svg);
$url_20: url(../images/icons/extra/sort-up.svg);
$url_21: url(../images/icons/extra/sort-down.svg);
$url_22: url(../images/icons/extra/reorder.svg);
$url_23: url(../images/icons/extra/toggle-dropzone.png);
$url_24: url(../images/folder-horizontal-open.png);
$url_25: url(../images/go-rtl.png);
$url_26: url(../images/icons/system/contract.svg); // in future, sprite.svg#contract
$url_27: url(../images/icons/system/expand.svg); // in future, sprite.svg#expand
$logo_png: url(../../assets/images/cmsms-logo.png);
$logo_svg: url(../../assets/images/cmsms-logo.svg);

// CONTENT START

html {
    height: 100%;
    width: 100%;
}
body {
    @if not $leftwards {
        direction: rtl; // supplement the inline html style
    }
    @include flexbox;
    @include flex-direction(column);
    height: 100%;
    min-height: 8em;
    width: 100%;
    min-width: 8em;
    margin: 0;
    padding: 0;
    background-color: $back-color;
    color: $fore-color;
    font-family: 'Open Sans', Arial, sans-serif;
    font-size: 1.1em;
    line-height: 1.3;
    overflow: hidden;
}
:active {
    outline: 0;
}
:focus {
    outline: 0;
}
input,
button,
select,
textarea,
a,
li,
img,
picture,
video,
audio,
[contenteditable="true"],
[tabindex|="-1"] {
    &:active {
        outline: 1px solid $fore-color;
        outline-offset: 0;
    }
    &:focus {
        outline: 1px solid $fore-color;
        outline-offset: 0;
    }
}
ins {
    color: $fore-color;
    text-decoration: none;
}
mark {
    font-style: italic;
    font-weight: bold;
}
del {
    text-decoration: line-through;
}
abbr[title] {
    border-bottom: 1px dotted;
    cursor: help;
}
dfn[title] {
    border-bottom: 1px dotted;
    cursor: help;
}
hr {
    display: block;
    height: 1px;
    border: 0;
    border-top: 1px solid $accent1;
    margin: 10px 0;
    padding: 0;
}
ul {
    list-style: none;
    margin: 0;
    padding: 0;
    ul {
        margin-#{$start-side}: 2em;
    }
    ol {
        margin-#{$start-side}: 2em;
    }
    &.sortableList ul {
        margin-#{$start-side}: 0;
    }
    &.sortable .placeholder {
        border: 2px dashed $accent1;
        background-color: $back-rowfocus;
    }
}
ol {
    list-style: none;
    margin: 0;
    padding: 0;
    ol {
        margin-#{$start-side}: 2em;
    }
    ul {
        margin-#{$start-side}: 2em;
    }
}
.sortableList {
    list-style-type: none;
    padding: 0;
    li {
        margin-top: 0.5em;
        margin-#{$start-side}: 1em;
        width: 30em;
    }
    > li {
        margin-#{$start-side}: 0;
    }
    div.label {
        border: solid 1px $accent1;
        padding: 0.25rem;
        background-color: $back-xfocus;
        width: 30em;
        font-size: 0.8em;
        color: $fore-color;
        word-wrap: break-word;
        @include border-radius(0.25rem);
        cursor: move;
        > {
            .expanded::before {
                content: '';
                display: inline-block;
                height: 1.2em;
                width: 1.2em;
                background: $url_26;
                background-size: 1.2em 1.2em;
            }
            .collapsed::before {
                content: '';
                display: inline-block;
                height: 1.2em;
                width: 1.2em;
                background: $url_27;
                background-size: 1.2em 1.2em;
            }
            .haschildren {
                display: inline-block;
                height: 1.2rem;
                width: 1.2rem;
                vertical-align: middle;
                cursor: pointer;
            }
            .nomarker {
                display: inline-block;
                width: 1.2rem;
            }
        }
        > em {
            color: $fore-color;
            font-size: 0.75em;
            font-weight: bold;
        }
    }
    .ui-draggable-dragging {
        border: 2px dashed $accent1;
        background-color: $back-rowfocus;
    }
}
h1 {
    margin: 0.5em 0;
    font-size: 1.25em;
}
h2 {
    margin: 0.5em 0;
    font-size: 1.1em;
}
h3 {
    margin: 0.5em 0;
    font-size: 1em;
}
h4 {
    margin: 0.5em 0;
    font-size: 0.9em;
}
h5 {
    margin: 0.5em 0;
    font-size: 0.8em;
}
h6 {
    margin: 0.5em 0;
    font-size: 0.75em;
}
p {
    margin: 0.5em 0;
    font-size: 0.9em;
    &.pageoptions {
        padding: 2px 0;
        a {
            padding: 2px 0;
            color: $fore-color;
            display: inline;
            cursor: pointer;
        }
    }
}
form {
    display: inline;
    margin: 0;
}
a {
//  outline: 0;
    color: $link-color;
    text-decoration: none;
    cursor: pointer;
    &:link {
        color: $link-color;
        text-decoration: none;
        cursor: pointer;
    }
    &:visited {
        color: $link-color;
        text-decoration: none;
        cursor: pointer;
    }
    &:hover {
        color: $link-focus;
        text-decoration: underline;
    }
    &:active {
        color: $link-focus;
        text-decoration: underline;
    }
    &.external {
        background: $url_0 no-repeat $end-side;
        padding-#{$end-side}: 20px;
    }
    &.link_button {
        margin: 0.1em;
        border-width: 0;
        @include border-radius(0.25rem);
        padding: 0.4em 0.5em;
        background: $link-color $url_2 top;
        -webkit-background-size: cover;
        -o-background-size: cover;
        -ms-background-size: cover;
        background-size: cover;
        color: $button-color; //TODO
        height: auto;
        text-indent: 0;
        text-decoration: none;
        font-weight: 600;
        font-size: 1em;
        &:visited {
            margin: 0.1em;
            border-width: 0;
            @include border-radius(0.25rem);
            padding: 0.4em 0.5em;
            background: $link-color $url_2 top;
            -webkit-background-size: cover;
            -o-background-size: cover;
            -ms-background-size: cover;
            background-size: cover;
            color: $button-color; // TODO
            height: auto;
            text-indent: 0;
            text-decoration: none;
            font-weight: 600;
            font-size: 1em;
        }
        &:hover {
            background: $accent-focus $url_2 top;
        }
        &.icon::before {
            background-image: $url_3;
            background-size: 10em 1em;
            display: inline-block;
            position: relative;
            #{$start-side}: -0.3em;
            vertical-align: middle;
            width: 1em;
            height: 1em;
            content: ' ';
        }
        &.icon.before {
            background-image: $url_3;
            background-size: 10em 1em;
            display: inline-block;
            position: relative;
            #{$start-side}: -0.3em;
            vertical-align: middle;
            width: 1em;
            height: 1em;
            content: ' ';
        }
    }
    &.tooltip {
        cursor: pointer;
    }
    &.text-red {
        color: $error-color;
    }
    &.pageoptions {
        padding: 2px 0;
        color: $fore-color;
        display: inline;
        cursor: pointer;
    }
    &.toggle-dropzone {
        &:active {
//          outline: 0;
        }
        &:focus {
//          outline: 0;
        }
    }
}
span {
//  outline: 0;
    &.helptext a {
        display: inline-block;
        padding-#{$end-side}: 24px;
        vertical-align: middle;
        background: $url_16 no-repeat $end-side;
        background-size: 1.5rem 1.5rem;
        &.external {
            display: inline-block;
            padding-#{$end-side}: 24px;
            vertical-align: middle;
            background: $url_15 no-repeat $end-side;
            background-size: 1.5rem 1.5rem;
        }
    }
}
div {
    &.pageoverflow {
        clear: $start-side;
        padding-top: 1px;
        width: auto;
        overflow: hidden;
        img {
            border: 0;
        }
    }
    &.pageoptions {
        padding: 2px 0;
        a {
            padding: 2px 0;
            color: $fore-color;
            display: inline;
            cursor: pointer;
        }
    }
    &.dialog {
        h3 {
            margin: 5px 0;
            color: $accent-focus;
            font-size: 0.9em;
        }
        a.bookmark {
            padding-#{$start-side}: 20px;
            background: $url_18 no-repeat $start-side;
            background-size: 1.5rem 1.5rem;
            line-height: 1.25;
        }
        form#chdir_form {
            display: block;
            select {
                width: 12.625em;
                width: calc(12em + 10px);
            }
        }
    }
}
pre {
    font-family: 'Red Hat Mono', Courier, monospace;
    text-align: $start-side;
    color: $fore-color;
    height: auto;
    font-size: 0.9em;
    padding: 5px 20px;
    border-#{$start-side}: 10px solid $accent1;
    background-color: $color_gallery_approx; // TODO for pre
    margin: 5px;
    overflow: auto;
    display: inline-block;
    width: auto;
    code {
    }
}
code {
    font-family: 'Red Hat Mono', Courier, monospace;
    text-align: $start-side;
    color: $fore-color;
    height: auto;
    font-size: 0.9em;
}
samp {
    font-family: 'Red Hat Mono', Courier, monospace;
    text-align: $start-side;
    color: $fore-color;
    height: auto;
    font-size: 0.9em;
}
kbd {
    font-family: 'Red Hat Mono', Courier, monospace;
    text-align: $start-side;
    color: $fore-color;
    height: auto;
    font-size: 0.9em;
}
table {
    border-collapse: collapse;
    border-spacing: 0;
    text-align: $start-side;
    &.pagetable {
        @include border-radius(0.25rem);
        border-collapse: inherit;
        border: 1px solid $accent1;
        table-layout: auto;
        margin: 3px 0;
        font-size: 0.8em;
        line-height: 1.15;
        caption {
            padding: 5px 0;
            color: $fore-color;
            text-align: $start-side;
            font-weight: bold;
            font-size: 0.75em;
        }
        th {
            padding-#{$start-side}: 5px;
            padding-#{$end-side}: 5px;
            height: 2em;
            background-color: $accent1;
            color: $fore-color;
            text-align: $start-side;
            white-space: nowrap;
            &.pagepos {
                text-align: center;
            }
            &.pageicon {
                min-width: 1rem;
                border: none;
            }
            &.SortAble {
                padding-#{$start-side}: 1.2em;
                background-image: $url_19;
                background-repeat: no-repeat;
                background-position: $start-side center;
                cursor: pointer;
            }
            &.SortUp {
                padding-#{$start-side}: 1.2em;
                background-image: $url_20;
                background-repeat: no-repeat;
                background-position: $start-side center;
                cursor: pointer;
            }
            &.SortDown {
                padding-#{$start-side}: 1.2em;
                background-image: $url_21;
                background-repeat: no-repeat;
                background-position: $start-side center;
                cursor: pointer;
            }
            &.SortAble::before,
            &.SortDown::before,
            &.SortUp::before {
                content: '';
                display: none;
            }
/*            input:focus {
                outline: 2px solid #f7ce3e; //TODO DISABLED intra table input
            }
*/
        }
        tr {
            height: 2.5em;
        }
        td {
            padding: 2px 5px;
            color: $fore-color;
        }
        a.text-red {
            color: $error-color;
        }
        thead tr {
            padding-#{$start-side}: 5px;
            padding-#{$end-side}: 5px;
            height: 2em;
            background-color: $accent1;
            color: $fore-color;
            text-align: $start-side;
            white-space: nowrap;
        }
    }
    th {
        &:first-child {
            border-top-#{$start-side}-radius: 3px;
        }
        &:last-child {
            border-top-#{$end-side}-radius: 3px;
        }
    }
    &.responsive {
        border: none;
        th {
            border: none;
        }
        td {
            border: none;
        }
    }
    tr:last-child td {
        &:first-child {
            border-bottom-#{$start-side}-radius: 3px;
        }
        &:last-child {
            border-bottom-#{$end-side}-radius: 3px;
        }
    }
}
tr {
    text-align: $start-side;
    &.row1 {
        background-color: $back-focus;
    }
    &.row2 {
        background: $back-xfocus;
    }
    &.row1hover {
        background: $back-rowfocus;
        td {
            background: none;
        }
    }
    &.row2hover {
        background: $back-rowfocus;
        td {
            background: none;
        }
    }
}
th {
    &.pagew10 {
        width: 10%;
    }
    &.pagew25 {
        width: 25%;
    }
    &.pagew50 {
        width: 50%;
    }
    &.pagew60 {
        width: 60%;
    }
    &.pagew70 {
        width: 70%;
    }
}
td {
    text-align: $start-side;
    &.row1s {
        background-color: $back-rowsort;
    }
    &.row2s {
        background-color: $back-rowxsort;
    }
    &.pagew30 {
        width: 30%;
    }
    &.pagepos {
        text-align: center;
    }
    &.pageicon {
        background: $concrete !important;
    }
    &.icons_wide {
        width: 25px;
    }
}

input {
    @include border-radius(0.25rem);
    border: 1px solid;
    background-color: $back-focus;
    font-size: 1em;
    &:hover {
        border-color: $accent1;
        @include box-shadow(0, 0, $accent-focus, 5px);
        @include transition(all, 200, ease-in-out);
//      outline: 0;
    }
    &:focus {
        border-color: $accent1;
        @include box-shadow(0, 0, $accent-focus, 5px);
        @include transition(all, 200, ease-in-out);
//      outline: 0;
    }
    &:disabled {
        background-color: $focus-disabled;
        @include box-shadow(none);
    }
}
input[type="text"] {
    margin-#{$start-side}: 4px;
    @include border-radius(0.25rem);
    border-color: $accent1;
    padding: 0.4em 0.5em;
    &#in_title {
        min-width: 30%;
    }
    &#in_menutext {
        min-width: 30%;
    }
//  &:focus {
//      outline: 2px solid $orange-color;
//      outline-offset: 3px;
//  }
}
input[type="password"] {
    margin-#{$start-side}: 4px;
    @include border-radius(0.25rem);
    border-color: $accent1;
    padding: 0.4em 0.5em;
}
input[type="button"] {
    border: 1px solid $accent1;
    background: $button-back $url_2 top;
    height: 28px;
    height: calc(1em + 12px);
    font-size: 1em;
    font-weight: normal;
    color: $button-color;
    cursor: pointer;
    &:hover {
/*        cursor: pointer;*/
        background-color: $accent-focus;
    }
    &:active {
        background-color: $accent-focus;
    }
}
input[type="submit"] {
    border: 1px solid $accent1;
    background: $button-back $url_2 top;
    height: 28px;
    height: calc(1em + 12px);
    font-size: 1em;
    font-weight: normal;
    color: $button-color;
    cursor: pointer;
    &:hover {
/*        cursor: pointer;*/
        background-color: $accent-focus;
    }
    &:active {
        background-color: $accent-focus;
    }
}
input[type="checkbox"] {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    padding: 0;
    vertical-align: text-bottom;
    cursor: pointer;
    margin-#{$start-side}: 4px;
}
input[type="radio"] {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    padding: 0;
    vertical-align: text-bottom;
    cursor: pointer;
}
select {
    border: 1px solid;
    background-color: $back-focus;
    font-size: 1em;
    margin-#{$start-side}: 4px;
    border-color: $accent1;
    @include border-radius(sidedValues(.25rem, 0, 0, .25rem));
    padding: 0.4rem 0.5rem;
    &:hover {
        @include box-shadow(0, 0, $accent-focus, 5px);
        @include transition(all, 200, ease-in-out);
    }
    &:focus {
        @include box-shadow(0, 0, $accent-focus, 5px);
        @include transition(all, 200, ease-in-out);
    }
    &:disabled {
        @include box-shadow(none);
        background-color: $focus-disabled;
    }
}
textarea {
    @include border-radius(0.25rem);
    border: 1px solid;
    background-color: $back-focus;
    font-size: 1em;
    margin-#{$start-side}: 4px;
    border-color: $accent1;
    resize: both;
    width: 99%;
    min-width: 10em;
    min-height: 3em;
    overflow: auto;
    &:hover {
        border-color: $accent1;
        @include box-shadow(0, 0, $accent-focus, 5px);
        @include transition(all, 200, ease-in-out);
//      outline: 0;
    }
    &:focus {
        border-color: $accent1;
        @include box-shadow(0, 0, $accent-focus, 5px);
        @include transition(all, 200, ease-in-out);
//      outline: 0;
//      outline: 2px solid $orange-color;
//      outline-offset: 3px;
    }
    &:disabled {
        @include box-shadow(none);
        background-color: $focus-disabled;
    }
    &.pagesmalltextarea {
        height: 15em;
        width: 90%;
    }
    &.pageextrasmalltextarea {
        height: 8em;
        width: 90%;
    }
}
fieldset {
    margin: sidedValues(0, 2px, 0.75em);
    padding: 0.5em;
    border: 1px solid $accent1;
    @include border-radius(0.25rem);
}
.checkbox {
    padding-#{$start-side}: 10px;
}

/*** clearfix ***/

.cf::after {
    content: '';
    display: table;
    clear: both;
}
.clear {
    clear: both;
    height: 0;
}
.clearb {
    clear: both;
}

.pagechange, // fake button, no icon
.adminsubmit {
    margin: 0.1em;
    border-width: 0;
    @include border-radius(0.25rem);
    padding: 0.4em 0.5em;
    background: $button-back $url_2 top;
    -webkit-background-size: cover;
    -o-background-size: cover;
    -ms-background-size: cover;
    background-size: cover;
    color: $button-color;
    height: auto;
    font-weight: 600;
    font-size: 1em;
    cursor: pointer;
    &:hover {
        background-color: $accent-focus;
    }
    &:active {
        background-color: $accent-focus;
    }
    &:disabled {
        background-color: $button-disabled;
    }
}
.adminsubmit {
    &.icon {
        padding-#{$start-side}: 0.8em;
        &.before {
            background-image: $url_3;
            background-size: 10em 1em;
            display: inline-block;
            position: relative;
            #{$start-side}: -0.3em;
            vertical-align: middle;
            width: 1em;
            height: 1em;
            content: ' ';
        }
    }
    &.icon::before {
        background-image: $url_3;
        background-size: 10em 1em;
        display: inline-block;
        position: relative;
        #{$start-side}: -0.3em;
        vertical-align: middle;
        width: 1em;
        height: 1em;
        content: ' ';
    }
}
.iconnone {
}
.ui-button {
    &.ui-icon {
        padding-#{$start-side}: 0.8em;
    }
    &:hover {
        cursor: pointer;
    }
}
.ui-dialog-buttonset {
    .ui-button {
        .ui-icon {
            background: none;
            display: inline;
            width: 1em;
            height: 1em;
        }
        &:hover .ui-icon {
            background: none;
            display: inline;
            width: 1em;
            height: 1em;
        }
        &.ui-state-hover .ui-icon {
            background: none;
            display: inline;
            width: 1em;
            height: 1em;
            outline: 0; //TODO local replacment
        }
        &:focus .ui-icon {
            background: none;
            display: inline;
            width: 1em;
            height: 1em;
            outline: 0; //TODO local replacment
        }
        &.ui-state-focus .ui-icon {
            background: none;
            display: inline;
            width: 1em;
            height: 1em;
        }
    }
    .ui-icon::before {
        background-image: $url_3;
        background-size: 10em 1em;
        display: inline-block;
        vertical-align: middle;
        width: 1em;
        height: 1em;
        content: ' ';
    }
}
.icon {
    &.check::before {
        background-position: 1em 0;
    }
    &.cancel::before {
        background-position: 2em 0;
    }
    &.apply::before {
        background-position: 3em 0;
    }
    &.undo::before {
        background-position: 4em 0;
    }
    &.do::before {
        background-position: 5em 0;
    }
    &.go::before {
        background-position: 6em 0;
    }
    &.back::before {
        background-position: 7em 0;
    }
    &.delete::before {
        background-position: 8em 0;
    }
    &.search::before {
        background-position: 9em 0;
    }
    &.add::before {
        background-position: 10em 0;
    }
    &.check.before {
        background-position: 1em 0;
    }
    &.cancel.before {
        background-position: 2em 0;
    }
    &.apply.before {
        background-position: 3em 0;
    }
    &.undo.before {
        background-position: 4em 0;
    }
    &.do.before {
        background-position: 5em 0;
    }
    &.go.before {
        background-position: 6em 0;
    }
    &.back.before {
        background-position: 7em 0;
    }
    &.delete.before {
        background-position: 8em 0;
    }
    &.search.before {
        background-position: 9em 0;
    }
    &.add.before {
        background-position: 10em 0;
    }
}

.ui-icon-check::before {
    background-position: 1em 0;
}
.ui-icon-cancel::before {
    background-position: 2em 0;
}
button.ui-button {
    margin: 0.1em;
    border-width: 0;
    @include border-radius(0.25rem);
    padding: 0.4em 0.5em;
    background: $button-back $url_2 top;
    -webkit-background-size: cover;
    -o-background-size: cover;
    -ms-background-size: cover;
    background-size: cover;
    color: #fcf9f3; //TODO
    height: auto;
    font-weight: 600;
    font-size: 1em;
    &:hover {
        background: $accent-focus none;
        border: 0 none;
//        color: #fcf9f3; //TODO
        height: auto;
        font-weight: 600;
        font-size: 1em;
        outline: 0; //TODO local replacment
    }
    &.ui-state-hover {
        background: $accent-focus none;
        border: 0 none;
//        color: #fcf9f3; //TODO
        height: auto;
        font-weight: 600;
        font-size: 1em;
        outline: 0; //TODO local replacment
    }
    &:active {
        background: $accent-focus none;
        border: 0 none;
//        color: #fcf9f3; //TODO
        height: auto;
        font-weight: 600;
        font-size: 1em;
        outline: 0; //TODO local replacment
    }
    &.ui-state-active {
        background: $accent-focus none;
        border: 0 none;
//        color: #fcf9f3; //TODO
        height: auto;
        font-weight: 600;
        font-size: 1em;
        outline: 0; //TODO local replacment
    }
    &:disabled {
        background-color: $button-disabled;
    }
    &.ui-dialog-titlebar-close {
        // effectively disable this button
        top: 0;
        #{$end-side}: 0;
        width: 0;
        height: 0;
        margin: 0;
        border: 0;
        padding: 0;
        outline: 0;
        .ui-button-icon {
            #{$start-side}: sidedSingle(-1.5em); // or -(1.5em+10px) see also: related width: ui-dialog-title.alertable-message
            width: 1.5em;
            height: 1.5em;
            margin-top: 6px; //~ effective vertical center in titlebar (fontsize  + padding 0.5em)
            margin-#{$end-side}: 10px;
            @include border-radius(0.25rem);
            background:$accent2 $url_8 repeat 9em 0 / 9em 1.5em;
            &:hover {
                background-color: $accent-focus;
                outline: 0; //TODO local replacment
            }
        }
    }
}
.ui-icon-check.before {
    background-position: 1em 0;
}
.ui-icon-cancel.before {
    background-position: 2em 0;
}
.ui-widget-overlay.ui-front {
    position: fixed;
    top: 0;
    #{$start-side}: 0;
    bottom: 0;
    #{$end-side}: 0;
    background: rgba(0, 0, 0, .4);
    opacity: 1.0;
    z-index: 900;
}
.ui-dialog {
    input {
        border: 1px solid;
        background-color: $back-focus;
        font-size: 1em;
        &:hover {
            border-color: $accent1;
            @include box-shadow(0, 0, $accent-focus, 5px);
            @include transition(all, 200, ease-in-out);
            outline: 0; //TODO local replacment
        }
    }
    select {
        border: 1px solid;
        background-color: $back-focus;
        font-size: 1em;
        &:hover {
            border-color: $accent1;
            @include box-shadow(0, 0, $accent-focus, 5px);
            @include transition(all, 200, ease-in-out);
            outline: 0; //TODO local replacment
        }
    }
    textarea {
        border: 1px solid;
        background-color: $back-focus;
        font-size: 1em;
        &:hover {
            border-color: $accent1;
            @include box-shadow(0, 0, $accent-focus, 5px);
            @include transition(all, 200, ease-in-out);
            outline: 0; //TODO local replacment
        }
    }
    .ui-dialog-buttonset {
        float: $end-side;
    }
    &.ui-widget.ui-widget-content {
        position: fixed;
        top: 50%;
        #{$start-side}: 50%;
        transform: translate(-50%, -50%);
        border: 1px solid $accent1;
        @include border-radius(0.25rem);
        padding: 0;
        background: $back-color;
        color: $fore-color;
        z-index: 999;
    }
    .ui-dialog-titlebar.ui-widget-header {
        margin: 0;
        padding: 0;
        border-width: 0;
        @include border-radius(sidedValues(.25rem, .25rem, 0, 0));
        background: $accent1;
    }
    .ui-dialog-buttonpane.alertable-buttons {
        border: 0 none;
        margin: 0;
        padding: 0;
        background: $back-color none;
        text-align: $start-side;
        float: $end-side;
    }
}
.ui-dialog-title.alertable-message {
    margin: 0.5em 0;
    width: calc(100% - 1.5em - 18px); // adjustment for .ui-button-icon width and related margins
    color: $fore-color;
}

.ui-tooltip {
    border: 1px solid $accent1;
    @include border-radius(0.25rem);
    background-color: $back-color;
    font-size: 0.85em;
    @include box-shadow(6px, 6px, $popup-shadow, 12px, -6px);
}
.tooltip {
    cursor: help;
}

.pagetext {
    width: auto;
    margin: sidedValues(10px, 0, 5px, 4px);
    padding: 0;
    color: $fore-color;
    font-weight: bold;
}

.pageinput {
    width: auto;
    margin: sidedValues(5px, 0, 10px, 4px);
    padding: 0;
    color: $fore-color;
}

.message {
    @include border-radius(0.25rem);
    display: inline-block;
    width: auto;
    padding: sidedValues(10px, 10px, 10px, 40px);
    margin: 10px 0;
    font-size: 0.925rem;
    &:hover {
        cursor: help;
    }
    p {
        margin: 0;
        color: $warn-color;
        font-size: 0.925rem;
    }
}
.info {
    background: $info-back $url_7 10px 50% no-repeat;
    border: 1px solid $info-border;
    color: $info-color;
    .jqt-close {
        background-position: 4.8em 0;
        &:hover {
            background-position: 0 0;
        }
    }
    &.jqtoast {
        padding: 10px 40px;
    }
    .jqt-heading {
        background-color: $info-title-back;
        color: $info-title-color;
    }
    &.jqt-close:active {
        background-position: 0 0;
    }
}
.information {
    @include border-radius(0.25rem);
    display: inline-block;
    width: auto;
    padding: sidedValues(10px, 10px, 10px, 40px);
    margin: 10px 0;
    font-size: 0.925rem;
    background: $info-back $url_7 10px 50% no-repeat;
    border: 1px solid $info-border;
    color: $info-color;
}
.warn {
    background: $warn-back $url_4 10px 50% no-repeat;
    border: 1px solid $warn-border;
    color: $warn-color;
    .jqt-close {
        background-position: 2.4em 0;
        &:hover {
            background-position: 0 0;
        }
        &:active {
            background-position: 0 0;
        }
    }
    &.jqtoast {
        padding: 10px 40px;
    }
    .jqt-heading {
        background-color: $warn-title-back;
        color: $warn-title-color;
    }
}
.warning {
    @include border-radius(0.25rem);
    display: inline-block;
    width: auto;
    padding: sidedValues(10px, 10px, 10px, 40px);
    margin: 10px 0;
    font-size: 0.9em;
    background: $warn-back $url_4 10px 50% no-repeat;
    border: 1px solid $warn-border;
    color: $warn-color;
    p {
        margin: 0;
        color: $warn-color;
        font-size: 0.925rem;
    }
    h3 {
        margin: 2px 0;
        color: $warn-color;
        font-size: 1em;
    }
}
.error {
    @include border-radius(0.25rem);
    background: $error-back $url_5 10px 50% no-repeat;
    border: 1px solid $error-border;
    color: $error-color;
    .jqt-close {
        background-position: 1.2em 0;
        &:hover {
            background-position: 0 0;
        }
        &:active {
            background-position: 0 0;
        }
    }
    &.jqtoast {
        padding: 10px 40px;
    }
    .jqt-heading {
        background-color: $error-title-back;
        color: $error-title-color;
    }
}
.success {
    @include border-radius(0.25rem);
    background: $success-back $url_6 10px 50% no-repeat;
    border: 1px solid $success-color;
    color: $success-color;
    .jqt-close {
        background-position: 3.6em 0;
        &:hover {
            background-position: 0 0;
        }
        &:active {
            background-position: 0 0;
        }
    }
    &.jqtoast {
        padding: 10px 40px;
    }
    .jqt-heading {
        background-color: $success-title-back;
        color: $success-title-color;
    }
}

.pageinfo {
    display: inline-block;
    width: auto;
    margin: 10px 0;
    border: 1px solid $info-border;
    @include border-radius(0.25rem);
    padding: sidedValues(10px, 10px, 10px, 40px);
    background: $info-back $url_7 10px 50% no-repeat;
    font-size: 0.925rem;
    color: $info-color;
}
.pagesuccess {
    display: inline-block;
    width: auto;
    margin: 10px 0;
    border: 1px solid $success-border;
    @include border-radius(0.25rem);
    padding: sidedValues(10px, 10px, 10px, 40px);
    background: $success-back $url_6 10px 50% no-repeat;
    font-size: 0.925rem;
    color: $success-color;
}
.pagewarning {
    @include border-radius(0.25rem);
    display: inline-block;
    width: auto;
    padding: sidedValues(10px, 10px, 10px, 40px);
    margin: 10px 0;
    font-size: 0.925rem;
    background: $warn-back $url_4 10px 50% no-repeat;
    border: 1px solid $warn-border;
    color: $warn-color;
    &.hidden {
        display: none;
    }
    p {
        margin: 0;
        color: $warn-color;
        font-size: 0.9em;
    }
    h3 {
        margin: 2px 0;
        color: $warn-color;
        font-size: 1em;
    }
}
.pagewarn {
    display: inline-block;
    width: auto;
    margin: 10px 0;
    border: 1px solid $warn-border;
    @include border-radius(0.25rem);
    padding: sidedValues(10px, 10px, 10px, 40px);
    background: $warn-back $url_4 10px 50% no-repeat;
    font-size: 0.925rem;
    color: $warn-color;
    h3 {
        margin: 2px 0;
        color: $warn-color;
        font-size: 1em;
    }
}
.pageerror {
    display: inline-block;
    width: auto;
    margin: 10px 0;
    border: 1px solid $error-border;
    @include border-radius(0.25rem);
    padding: sidedValues(10px, 10px, 10px, 40px);
    background: $error-back $url_5 10px 50% no-repeat;
    font-size: 0.9em;
    color: $error-color;
}

/*** popups ***/

.pagemcontainer {
    display: inline-block;
    width: auto;
    padding: sidedValues(10px, 10px, 10px, 40px);
    margin: 10px 0;
    font-size: 0.9em;
    background: $success-back $url_6 10px 50% no-repeat;
    border: 1px solid $success-color;
    color: $success-color;
    position: fixed;
    border-top: none;
    width: 30%;
    font-size: 0.75em;
    @include border-radius(sidedValues(0, 0, 0.25rem, 0.25rem));
    @include box-shadow(1px, 1px, $msgbox-shadow, 3px, 1px);
    margin: 0;
    top: 0;
    #{$start-side}: 35%;
    z-index: 999;
}
.pageerrorcontainer {
    display: inline-block;
    width: auto;
    padding: sidedValues(10px, 10px, 10px, 40px);
    margin: 10px 0;
    font-size: 1em;
    background: $error-back $url_5 10px 50% no-repeat;
    border: 1px solid $error-border;
    color: $error-color;
    position: fixed;
    border-top: none;
    width: 30%;
    font-size: 0.75em;
    @include border-radius(sidedValues(0, 0, 0.25rem, 0.25rem));
    @include box-shadow(1px, 1px, $msgbox-shadow, 3px, 1px);
    margin: 0;
    top: 0;
    #{$start-side}: 35%;
    z-index: 999;
    ul {
        border: none;
        margin-#{$start-side}: 25px;
        background: none;
    }
}
.pageerrorinstalldir {
    display: inline-block;
    width: auto;
    padding: sidedValues(10px, 10px, 10px, 40px);
    margin: 10px 0;
    font-size: 1em;
    background: $error-back $url_5 10px 50% no-repeat;
    border: 1px solid $error-border;
    color: $error-color;
    position: fixed;
    border-top: none;
    width: 30%;
    font-size: 0.75em;
    @include border-radius(sidedValues(0, 0, 0.25rem, 0.25rem));
    @include box-shadow(1px, 1px, $msgbox-shadow, 3px, 1px);
    margin: 0;
    top: 0;
    #{$start-side}: 35%;
    z-index: 999;
}
.dialog {
    .green {
        display: block;
    }
    .red {
        display: block;
    }
    .yellow {
        display: block;
    }
    .orange {
        display: block;
    }
}

.errorDialog {
    border: 1px solid $error-border;
    background-color: $error-back;
    color: $error-color;
    height: 100%;
    line-height: 100%;
}
.dialog-critical {
    border: 1px solid $error-border;
    margin: 5px 0;
    background-color: $error-back;
    color: $error-color;
    font-size: 0.9em;
}
.dialog-warning {
    border: 1px solid $warn-border;
    margin: 5px 0;
    background-color: $warn-back;
    color: $warn-color;
    font-size: 0.9em;
}
.dialog-information {
    border: 1px solid $info-border;
    margin: 5px 0;
    background-color: $info-back;
    color: $info-color;
    font-size: 0.9em;
}

.jqtoast {
    display: block;
    position: fixed;
    border-width: 1px;
    border-style: solid;
    @include border-radius(0.25rem);
    margin: 0;
    padding: 10px;
    max-width: 40em;
    line-height: 1.2;
    letter-spacing: normal;
    font-size: 0.9em;
    pointer-events: all !important;
    z-index: 1000 !important;
    &.bottom-left {
        bottom: 20px;
        #{$start-side}: 2.5em;
    }
    &.bottom-right {
        bottom: 20px;
        #{$end-side}: 40px;
    }
    &.top-left {
        top: 75px;
        #{$start-side}: 2.5em;
    }
    &.top-right {
        top: 75px;
        #{$end-side}: 40px;
    }
    &.bottom-center {
        bottom: 20px;
    }
    &.top-center {
        top: 75px;
    }
    * {
        margin: 0;
        padding: 0;
    }
    ul {
        margin-#{$start-side}: 15px;
        background: none;
        padding: 0;
        li {
            list-style-type: disc !important;
            background: none;
            padding: 0;
            letter-spacing: normal;
        }
    }
}
.jqt-heading {
    margin-bottom: 10px;
    padding: 10px;
    font-size: 1em;
    font-weight: bold;
    text-align: center;
}
.drag .jqt-heading {
    cursor: move;
}
.jqt-close {
    position: absolute;
    background-image: $url_8;
    background-size: 7.2em 1.2em;
    width: 1.2em;
    height: 1.2em;
    top: 10px;
    #{$end-side}: 10px;
    cursor: pointer;
}
.jqt-loader {
    display: block;
    position: absolute;
    top: -2px;
    height: 5px;
    width: 0;
    #{$start-side}: 0;
    @include border-radius(0.25rem);
    background: $focus-color;
}
.jqt-loaded {
    width: 100%;
}
.jqt-has-icon {
    padding-#{$start-side}: 40px;
    background-repeat: no-repeat;
    background-position: 8px 50%;
}
.jqt-icon-error {
    background-image: $url_5;
}
.jqt-icon-warning {
    background-image: $url_4;
}
.jqt-icon-success {
    background-image: $url_9;
}
.jqt-icon-info {
    background-image: $url_7;
}

.alert-dialog {
    margin: 0;
    padding: 0;
    .jqtoast {
        position: relative;
        margin: 0;
        padding-#{$start-side}: 10px;
        padding-#{$end-side}: 10px;
        font-size: 0.9em;
        &.error {
            background: $error-back;
        }
        &.warn {
            background: $warn-back;
        }
        &.info {
            background: $info-back;
        }
        &.success {
            background: $success-back;
        }
        > .jqt-heading {
            margin-#{$end-side}: 32px;
        }
        > span {
            font-size: 0.8em;
        }
    }
}
#alertable-overlay {
    position: fixed;
    top: 0;
    #{$start-side}: 0;
    bottom: 0;
    #{$end-side}: 0;
    background: $alert-overlay;
    opacity: 1.0;
    z-index: 900;
}
.alertable {
    position: fixed;
    top: 50%;
    #{$start-side}: 50%;
    transform: translate(-50%, -50%);
    @include border-radius(0.25rem);
    padding: 1em;
    background: $back-color;
    color: $fore-color;
    z-index: 999;
}
#alertable-message {
    margin-bottom: 1.5em;
    font-weight: bold;
    text-align: center;
}
#alertable-prompt {
    margin-bottom: 1.5em;
}
#alertable-input {
    width: 18em;
}
#alertable-buttons {
    float: $end-side;
    button {
        margin-#{$end-side}: 1em;
    }
}

.close-warning {
    float: $end-side;
    display: inline-block;
    width: 16px;
    height: 16px;
    text-indent: sidedSingle(-9999em);
    background: transparent $url_11 8px no-repeat;
    cursor: pointer;
    margin: 5px;
}
.image-error {
    background: $url_5 10px 8px no-repeat;
}
.image-warning {
    background: $url_4 10px 8px no-repeat;
}
.image-info {
    background: $url_7 10px 8px no-repeat;
}
.image-close {
    background: $url_11 no-repeat;
}
.infoclose {
    background-image: $url_8;
    background-position: 1.5em 0;
    background-size: 9em 1.5em;
    width: 1.5em;
    height: 1.5em;
    &:hover {
        background-position: 7.5em 0;
    }
    &:active {
        background-position: 7.5em 0;
    }
}

@keyframes spin {
    0% {
        transform: rotate(0)
    }
    100% {
        transform: rotate(360deg)
    }
}

#cms_busy,
.busy {
    position: fixed;
    z-index: 999;
    top: 0;
    #{$start-side}: 0;
    bottom: 0;
    #{$end-side}: 0;
    height: 3em;
    width: 3em;
    margin: auto;
    border: .25em solid $spinner-second;
    @include border-radius(50%);
}

#cms_busy::before,
.busy::before {
    box-sizing: border-box;
    content: '';
    position: absolute;
    top: 1px;
    left: calc(50% - .125em);
    background: $spinner-prime;
    width: .25em;
    height: calc(50% - 1px);
    @include border-radius(0.25em);
    transform-origin: 50% 100%;
    -webkit-animation: spin 1.5s linear infinite;
    -moz-animation: spin 1.5s linear infinite;
    animation: spin 1.5s linear infinite;
}

.colbox {
    @include flexbox;
    @include flex-direction(column);
    &.expand {
        @include justify-content(space-between);
    }
    &.flow {
        @include flex-wrap(wrap);
    }
    .boxchild {
        margin-bottom: 10px;
    }
}
.rowbox {
    @include flexbox;
    &.expand {
        @include justify-content(space-between);
    }
    &.flow {
        @include flex-wrap(wrap);
    }
    .boxchild {
        margin-#{$end-side}: 10px;
    }
}
.boxchild {
    @include flex(0, 1, auto);
    &.fill {
        @include flex(1);
    }
}
.resize-horizontal {
    resize: horizontal;
}
.resize-vertical {
    resize: vertical;
}
.postgap {
    margin-top: 5px;
    margin-bottom: 16px;
    overflow: auto;
}
.pregap {
    margin-top: 16px;
    margin-bottom: 5px;
    overflow: auto;
}
.spacer {
    display: none;
    clear: both;
}

.red {
    color: $red-color;
    font-size: 0.9em;
}
.text-red {
    color: $error-color;
}
.yellow {
    color: $yellow-color;
    font-size: 0.9em;
}
.green {
    color: $green-color;
    font-size: 0.9em;
}
.blue {
    color: $blue-color;
}
.orange {
    color: $orange-color;
}
.smallgrey {
    font-weight: normal;
    font-size: 0.7em;
    margin: sidedValues(10px, 0, 0);
}

.block {
    display: block;
}

.file {
    background: $url_1 no-repeat $start-side;
    background-size: 1.5rem 1.5rem;
    padding-#{$start-side}: 25px;
}
.important {
    color: $focus-color;
    font-weight: normal;
}
.visible {
    position: static;
}
.invisible {
    position: absolute;
    #{$start-side}: sidedSingle(-9999em);
    top: auto;
    width: 1px;
    height: 1px;
    overflow: hidden;
}
.hidden {
    display: none !important;
}
.pointer {
    cursor: pointer;
}
.group_memberships {
    @include border-radius(0.25rem);
}
.dashboard-box {
    margin: 5px;
    padding: 10px;
    border: 1px solid $accent1;
    @include border-radius(0.25rem);
    max-width: 20em;
    min-width: 10em;
    @include flex(1, 0, 33%);
    img {
        @include border-radius(0.25rem);
    }
    h3 {
        margin: sidedValues(0, 0, 5px, 0);
        line-height: 1.5;
        text-shadow: sidedSingle(0) 0 1px 0 $focustext-shadow;
        a {
            &:hover {
                color: $accent-focus;
                text-decoration: none;
            }
            &:focus {
                border: 1px solid $accent-focus;
            }
        }
        &.dashboard-icon {
            a {
                padding-#{$end-side}: 5px;
            }
            svg {
                max-width: 2em;
                height: 1.5em;
                vertical-align: middle;
            }
        }
    }
    h4 {
        margin: 5px 0;
        font-size: 0.9em;
    }
    span.description {
        font-size: 0.9em;
        font-style: italic;
    }
    ul.subitems {
        margin: 0;
        padding: 0;
        li {
            list-style: none;
            margin: 0 4px;
            line-height: 1.4;
            float: $start-side;
            a {
                font-size: 0.85em;
            }
        }
    }
}

/* TODO defaults for all themes without a custom fetch_menu_page() */
.topmenu_section {
    margin: 0 0 0.5em 0
}
.topmenu_section > h3 {
    margin: 0.5em 0
}
.topmenu_description {
    margin-top: -0.5em;
    font-style: italic
}
.topmenu_item {
    margin: 0 0 0.5em 1em
}
.topmenu_item a {
}

#topcontent_wrap {
    @include flexbox;
    @include flex-wrap(wrap);
    @include flex(0, 0, auto);
}
.row {
    width: 100%;
    margin: 0 auto;
    position: relative;
}
.row::before {
    content: ' ';
    display: table;
}
.row::after {
    content: ' ';
    display: table;
    clear: both;
}
.half {
    float: $start-side;
    width: 50%;
}
.options-form {
    text-align: $end-side;
}
.systemicon {
    border: none;
    vertical-align: middle;
}
#copy_paste_in_forum {
    width: 80%;
    margin: 0 10%;
}
.pagerows {
    a {
        display: inline-block;
        border: 1px solid $color_silver_approx; //TODO
        margin: 2px 1px;
        padding: 2px 4px;
        background: $color_gallery_approx; //TODO
        color: $button-color; //TODO
    }
    .current {
        border: 0;
        margin: 0;
        padding: 6px 4px;
        background-color: $accent-focus;
        color: $back-most;
        font-weight: bold;
    }
    strong {
        border: 0;
        margin: 0;
        padding: 6px 4px;
        background-color: $accent2;
        color: $back-most;
        font-weight: bold;
    }
}
.move {
    width: 60px;
    padding-#{$start-side}: 5px;
    text-align: $start-side;
}

.ContextMenu {
    position: fixed;
    display: none;
    border: 1px solid $accent1;
    @include border-radius(0.5rem);
    padding: 10px 6px;
    max-width: 16em;
//  min-width: 12em;
//  max-height: 25em;
    background-color: $accent2;
    font-size: 1.1em;
    z-index: 100;
@if $deepcontext {
    > label {
        height: 1.5em;
        width: 100%;
        margin: 0 0 10px 0;
        text-align: $start-side;
        color: $fore-color;
    }
}
    &.active {
        display: block;
        background-color: $accent2;
        @include box-shadow(4px, 5px, $popup-shadow, 10px, -6px);
    }
    > ul {
        max-width: 15em;
//      max-height: 22em;
        overflow: auto;
        margin: 0;
        padding: 0;
@if $deepcontext {
        > ul {
            margin-bottom: 1px;
            > li:not(:last-child) {
                border-bottom: 1px solid $accent-focus;
            }
        }
}// @else {
//      list-style-type: none;
//}
    }
@if $deepcontext {
    ul {
        list-style-type: none;
        ul {
            padding: 0;
            margin: 0;
        }
        li ul.sub-level {
            display: none;
            margin-top: 10px;
            &.active {
                display: block;
                border: 1px solid $accent-focus;
                @include border-radius(0.5rem);
                padding: 10px 5px;
            }
        }
        > li > ul.sub-level.active > ul li ul.sub-level.active {
            font-style: italic;
            font-size: 0.75em;
        }
    }
}
    li {
        margin: 6px 0;
//      min-width: 6rem;
//      list-style-type: none;
        &:first-child {
            margin-top: 0;
        }
        &:last-child {
            margin-bottom: 3px; // small > 0 to prevent unwanted scrollbar
        }
        &:hover {
            background-color: $accent-focus;
            @include transition(all, 300, ease);
            cursor: pointer;
            > span {
                color: $accent-fore;
            }
        }
    }
}
#menus a {
    padding: 5px 4px; // small enough to not cause menu overflow
    color: $button-color; // same as nav menu
    &:hover {
        background-color: $accent-focus; //ditto
    }
}
@if false {
#menus1 .ContextMenu > ul {
//    margin: 0; default see above
}
#menus2 .ContextMenu > ul {
//    margin: 0; default
}
}
iframe {
    width: 99%;
    height: 99%;
    border: none;
    &.imageframe {
        margin-top: 10px;
        border: none;
        width: 100%;
    }
    &.preview {
        background-color: $back-most;
        margin: 10px 0;
        border: solid 1px $accent1;
        width: 95%;
        height: 25em;
    }
}
.pageback {
    clear: both;
    text-align: $start-side;
}

#Editor {
    line-height: 1.2;
    max-width: 99%;
    font-family: 'Red Hat Mono', Courier, monospace;
}

.version {
    background-color: $info-back;
    border: 1px solid $info-border;
    margin: 15px 0;
    padding: 20px;
    font-family: 'Red Hat Mono', Courier, monospace;
    line-height: 1.5;
    h3 {
        text-transform: uppercase;
        color: $accent-focus; // TODO
        margin: 0;
        padding: 0;
        font-family: 'Open Sans', Arial, sans-serif;
    }
}
.drop {
    position: absolute;
    width: 262px;
    width: calc(14em + 42px); // inner + 22 px
    padding-top: 1px;
    padding-bottom: 14px;
    #{$end-side}: 0;
    top: 0;
    .drop-inner {
        float: none;
        padding: 5px 10px;
        width: 240px;
        width: calc(14em + 20px); // 20 chars @ fontsize + 2 * padding
        border: 1px solid $color_silver_approx; //TODO
        border-top: none;
        background-color: $focus-color;
        color: $fore-color;
        font-size: 0.7em;
        text-shadow: sidedSingle(1px) 1px 0 $back-most; //TODO
    }
    #theme_dropzone {
        width: 14em;
        overflow: visible;
        line-height: 30px;
        text-align: center;
        height: 30px;
        background-color: $focus-color;
    }
    .zone {
        display: block;
        float: $start-side;
        width: 14em;
        border: 2px dashed $color_silver_approx; //TODO
        text-align: center;
        &:hover {
            border: 2px dashed $success-color; //TODO
        }
        &:focus {
            border: 2px dashed $success-color;
        }
    }
    .folder-selection {
        display: inline-block;
        float: $start-side;
        margin-#{$end-side}: 10px;
        width: 16px;
        background: transparent $url_24 no-repeat $start-side;
        cursor: pointer;
        height: 30px;
        text-align: $start-side;
    }
    &.hidden .drop-inner {
        display: none;
    }
}
.drop-inner {
    + a.toggle-dropzone {
        position: absolute;
        bottom: 0;
        #{$end-side}: 0;
        width: 15px;
        height: 14px;
        border: 1px solid $color_silver_approx;
        border-top: none;
        background: transparent $url_23 no-repeat -15px 0;
        text-indent: sidedSingle(-9999em);
    }
    &.hidden + a.toggle-dropzone {
        background: transparent $url_23 no-repeat 0 0;
    }
}
.reorder-pages {
    margin: 20px 10px;
    width: 95%;
}
.no-slide {
    position: inherit;
    #{$start-side}: auto;
    top: auto;
    border: 1px solid $error-color;
    @include border-radius(0.25rem);
    @include box-shadow(none);
    background-image: none;
    width: auto;
    display: block;
    z-index: 0;
}
aside .no-slide {
    position: inherit;
    #{$start-side}: auto;
    top: auto;
    border: 1px solid #490707; //TODO aside
    @include border-radius(0.25rem);
    @include box-shadow(none);
    background-image: none;
    width: auto;
    display: block;
    z-index: 0;
}
.oneliner > * {
    float: $start-side;
    margin-#{$end-side}: 20px;
}
#header-links > div {
    @include flexbox;
    @include flex-direction(column);
}
svg.systemicon {
    max-height: 1.5em; //slightly bigger than corresponding image class (see borders)
    max-width: 1.5em;
}
img.systemicon.svgicon {
    height: 1.5em;
    width: 1.5em;
}
img.systemicon {
    height: 1.3em;
    width: 1.3em;
}
.pageheader img {
    max-height: 2em;
    max-width: 2em;
}

.cms_helpicon {
    margin-bottom: -0.3rem;
    max-height: 1.3rem;
    max-width: 1.3rem;
    cursor: pointer;
}
.cms_helptext ul {
    padding: 0 10px;
    list-style: disc;
    li {
        margin-bottom: 8px;
    }
}

/* boxes schematic
BODY

  #ggp_header

  #ggp_navwrap

  WAS ggp_container ?

  div unnamed now ggp_contentwrap OFLOW auto

     #ggp_contenthead

     WAS ggp_content

          pagecontainer OFLOW: auto AT LEAST WHEN NO TABS PRESENT
          whatever from generator
             #page_content > div OFLOW auto
             #page_tabs

     WAS /ggp_content

  WAS /ggp_container

  #ggp_footer

  dialogs

/BODY
*/

/*** header ***/

/* this works better as a flexbox, even when css-grid is available */
#ggp_header {
    @include flex(0, 0, auto); // body vbox child
    @include flexbox; // and h container
    @include flex-wrap(wrap);
    @include justify-content(space-between);
    @include align-items(center);
    background-color: $accent1;
    @include panel-shadow($box-shadow, $box-shadow-default);
    line-height: 1;
/*    > div {
        @include flexbox;
        @include flex-wrap(wrap);
        @include justify-content(space-between);
        @include align-items(center);
    }
*/
    #site-logo {
        margin: sidedValues(0, 0, 0, 10px);
        line-height: 1.3;
        font-size: 1em;
        font-weight: bold;
        color: $fore-color;
        vertical-align: middle;
        text-align: $start-side;
        img {
            overflow: hidden;
            max-width: 50%;
            max-height: 2.5em;
            margin-top: 4px;
            margin-bottom: 4px;
            vertical-align: middle;
        }
        a:hover {
            text-decoration: none;
        }
    }
    #site-text {
        margin: 0;
        font-size: 1em;
        font-weight: bold;
        color: $fore-color;
        text-align: $start-side;
    }
    #system-logo {
        text-align: center;
    }
    #system-text {
        vertical-align: top;
        line-height: 2.4;
        font-weight: bold;
    }
}
#cms-logo {
    display: inline-block;
    margin-top: 0.2em;
    height: 2em;
    width: 10em;
    background: transparent $logotext_png no-repeat $start-side;
    background: transparent $logotext_svg no-repeat $start-side;
    background-size: 10em 2em;
    a {
        display: inline-block;
        padding: 1em 5em; // b/g size {height,width} * 0.5
    }
}
#shortcuts {
    text-align: $end-side;
    a {
        padding: 0.5em;
        text-decoration: none;
        vertical-align: super;
    }
    > .icon {
        margin: sidedValues(0, 4px ,0, 0);
        cursor: pointer;
    }
    > .icon svg {
        margin-bottom: -0.5em;
        max-height: 1.3em;
        max-width: 1.3em;
    }
    .bubble {
        display: inline-block;
        margin-#{$start-side}: -1em;
        color: $error-color;
        font-size: 1.2em;
        font-weight: bold;
    }
}

/*** navigation + content ***/

#ggp_container {
    @include flexbox;
    @include flex(1, 1, auto);
}

/*** navigation ***/

@if $withnav {
// TODO confirm that the following are current
#ggp_navwrap {
    @include flex(0, 0, auto);
}

#burger {
    display: none;
    width: calc(1.5rem + 4px); //match svg width + right-padding
    background-color: $nav-back;
    padding: sidedValues(4px, 0, 0, 4px);
    &:hover {
        background-color: $nav-focus;
        cursor: pointer;
    }
    > svg {
        width: 1.5rem;
        height: 1.5rem;
    }
}

#ggp_menu {
    @include flexbox;
    @include flex-wrap(wrap);
    @include justify-content(center);
    &.noflash {
        visibility: hidden; // preserve sizes for menu setup
    }
@if false {
    .descend::after {
        display: block;
        background-image: url(../images/navindicators.png);
        float: $end-side;
        width: .75rem;
        height: .75rem;
        content: ' ';
        /* TODO consider transform rotate 180degrees */
    }
}
    .open-mark {
        position: relative;
        float: right;
        height: .8rem;
        width: .8rem;
        top: .5rem;
        margin: 0 .25rem;
        background-image: url(../images/navindicators.png);
        background-position: 48px 0; // down-arrow
        /* TODO consider transform rotate 180degrees */
    }
    a {
        padding: 0; //sidedValues(0.12rem, 4px, 0.3rem, 4px);
        text-decoration: none;
        color: $button-color;
        &:link,
        &:visited {
            color: $button-color;
        }
    }
    li {
        position: relative;
        margin: 0;
        padding-#{$start-side}: .25rem;
        background-color: $nav-back;
        color: $button-color;
        font-size: 0.95em; // NOT rem
@if false {
        &.descend.subsub::after {
            margin-#{$end-side}: .5rem;
            margin-top: calc(0.65em - .25rem); // line-height-related : (1.3em + 4px pad - 12px img ht) / 2
            background-position: 24px 0; // right-arrow
        }
        &.descend.subsubL::after {
            margin-#{$end-side}: .5rem;
            margin-top: calc(0.65em - .25rem); // line-height-related : (1.3em + 4px pad - 12px img ht) / 2
            background-position: 12px 0; // left-arrow
        }
}
        &.descend.subsub .open-mark {
            background-position: 24px 0; // right-arrow
        }
        &.descend.subsubL .open-mark {
            background-position: 12px 0; // left-arrow
        }

        > svg, > a > svg, > img, > a > img {
            height: 1.3em;
            width: 1.3em;
            padding: 2px;
            margin-#{$start-side}: 0;
            margin-bottom: -0.5em;
        }
        > span, > a > span {
            display: inline-block;
            height: 1.3em;
            padding: 2px 4px;
            font-size: 0.95em; // NOT rem
            vertical-align: middle;
            cursor: pointer;
        }
    }
    > li {
        font-size: 1.1rem;
        > svg, > a > svg, > img, > a > img {
            width: 1.5rem;
            height: 1.5rem;
            margin-bottom: -0.5rem;
        }
        > span, > a > span {
            height: 1.5rem;
            font-size: 1.1rem;
        }
        > ul {
            margin-top: 0;
        }
        > ul ul {
            margin-top: 1px;
        }
@if false {
        &.descend::after {
            margin-#{$end-side}: .25rem;
            margin-top: calc(0.75rem - .25rem); // line-height-related :: (1.5rem + 4px pad - 12px img ht) / 2
            background-position: 48px 0; // down arrow
        }
}
    }
    ul {
        @include flexbox;
        @include flex-direction(column);
        margin: sidedValues(2px, 0, 0, 0);
        position: absolute;
        z-index: 50;
        ul {
            margin-top: calc(-1.125rem - 8px);
            z-index: 55;
        }
    }
    a:hover, li:hover, span:hover, img:hover, svg:hover {
        background-color: $nav-focus;
        cursor: pointer;
    }
}

/* TODO theme-js supports variable hamburger-menu-threshold */
@media all and(max-width : 39.98em) {
    #burger {
        display: block;
    }
    #ggp_menu {
        @include flex-direction(column);
        @include justify-content(flex-start);
        position: absolute;
        z-index: 50;
        overflow: auto;
        ul {
            position: relative;
            $start-side: 0;
            margin: 2px 0;
            padding: 0;
        }
        li {
            padding: 0 .25rem;
            &.vopen .open-mark {
                display: none;
            }
        }
        > li > ul {
            position: relative;
            $start-side: 10rem;
            margin: 0;
            padding: 0 2px;
        }
    }
}

} @else { // not $withnav
/* see separate file ATM */
}

/*** content ***/

#ggp_contentwrap {
    @include flexbox;
    @include flex-direction(column);
    overflow: auto;
}
#ggp_contenthead {
    @include flex(0, 0, auto);
    margin: sidedValues(0, 0, 5px, 10px);
    padding: 0;
    font-weight: normal;
    h1 {
        display: inline;
        width: auto;
        margin: 0;
        padding: 0;
        line-height: 2;
        font-size: 1.1em;
        font-weight: normal;
    }
    .helptext {
        display: inline-block;
        float: $end-side;
        margin-#{$end-side}: 10px;
        padding-#{$end-side}: 0;
        line-height: 2.93; // 0.75em fontsize * 2.93 = h1 fontsize * lineheight
        font-size: 0.75em;
        background: none;
        a img {
            margin-#{$end-side}: 10px;
        }
    }
    .drop-hidden span.helptext {
        margin-#{$end-side}: 0;
    }
    .subheader h3 {
        margin: sidedValues(2px, 0, 0);
        font-weight: normal;
    }
}

.headericon {
    display: inline-block;
    vertical-align: middle;
    margin: sidedValues(-0.25em, .5em, 0, 1em);
    height: 1.8em;
    width: 1.8em;
    img {
        max-height: 1.8em;
        max-width: 1.8em;
    }
}
@if false {
/* DEBUG DISABLED
#ggp_content {
    margin: sidedValues(0, 0, 0, 10px);
    border: 0;
    padding: 0;
    overflow: hidden;
    height: calc(100vh - 3em);/* TODO dynamic * /
    width: calc(100vw - 10em);/* TODO dynamic * /
    .h-inside {
        float: $start-side;
        padding-top: 8px;
        padding-#{$start-side}: 10px;
        margin-#{$end-side}: 10%;
        width: 18em;
        margin-bottom: 0.5em;
        text-align: $end-side;
    }
/*    .pagetext {
        margin: sidedValues(10px, 0, 5px, 4px);
        padding: 0;
        width: auto;
        color: $fore-color;
        font-weight: bold;
    }
* /
    .pageshowrows {
        color: $fore-color;
        font-size: 0.9em;
        text-align: $end-side;
        margin-bottom: 5px;
    }
    .helptext {
        display: inline-block;
    }
}
*/
}

/*
TODO dynamic height-adjustment calc
#ggp_header ht = tallest of #site-logo(<=2.5em+8px mg), #system-logo(2.2em), #shortcuts(1.1em * 1 li ht + 4px margin) = 46.6 px
#ggp_navrap ht = _menu ht = topmost li ht = 1.1rem font * 1.3 line ht = 26.5px + 5px mg
#ggp_footer ht = 1rem font * 1 line ht + 10px mg = 33px
.pagecontainer T/B mg = 0
h-scroller N/A ever ? or 16px ?
ETC?
*/
.pagecontainer {
    overflow: auto;
    height: calc(100vh - 115px);/*TODO calc(100vh - whatever);*/
    width: calc(100vw - 16px);/*v-scroller space*/
    margin: 0 10px;
    .h-inside {
        float: $start-side;
        padding-top: 8px;
        padding-#{$start-side}: 10px;
        margin-#{$end-side}: 10%;
        width: 18em;
        margin-bottom: 0.5em;
        text-align: $end-side;
    }
    .pageshowrows {
        color: $fore-color;
        font-size: 0.9em;
        text-align: $end-side;
        margin-bottom: 5px;
    }
@if false {
/*    .pagetext {
        margin: sidedValues(10px, 0, 5px, 4px);
        padding: 0;
        width: auto;
        color: $fore-color;
        font-weight: bold;
    }
*/
}
    .helptext {
        display: inline-block;
    }
}

#page_tabs {
    @include flexbox;
    @include flex-wrap(wrap);
    @include align-items(flex-start);
    overflow: hidden;
    > div {
        margin-top: 1px;
        margin-#{$end-side}: 1px;
        padding: 0.3em 0.7em;
        @include border-radius(sidedValues(.25rem, .25rem, 0, 0));
        background-color: $accent1;
        color: $fore-color;
        font-size: 0.9em;
        font-weight: bold;
        text-align: center;
        white-space: nowrap;
        cursor: pointer;
        &:hover {
            color: $accent-focus;
        }
        &:focus {
            color: $accent-focus;
        }
        img {
            margin-top: 2px;
            margin-#{$start-side}: 5px;
            margin-#{$end-side}: 5px;
            height: 0.9em;
        }
    }
    > .active {
        background-color: $accent-focus; //TODO
        color: $back-most; //TODO
        text-shadow: sidedSingle(-1px) -1px 0 $focustext-shadow;
    }
}

#page_content {
    @include border-radius(sidedValues(0, .25rem, .25rem, .25rem));
    border: 1px solid $accent1;
    padding: 0.5em;
    > div {
        padding: 0.5em 2px;
        max-height: calc(100vh - 250px);/* TODO derive adjustment from context, dynamic */
        overflow: auto;
    }
}

/*** footer ***/

#ggp_footer {
    @include flex(0, 1, auto);
    @include flexbox;
//    @include flex-wrap(wrap);
//    @include justify-content(space-between);
    @include align-items;
    padding: 0 1.5em;
    background-color: $accent1;
    font-size: 1rem;
    color: $fore-color;
    @include panel-shadow($box-shadow, $box-shadow-default);
    .links {
        li {
            display: inline-block;
            margin: 0 5px;
            padding: .68rem 0;
            a {
                padding: .68rem 5px;
            }
        }
    }
//    small {
//        font-size: 0.9rem;
//    }
}

// button like .adminsubmit, but without icon
.loginsubmit {
    margin: 0.1em;
    margin-#{$end-side}: 0.5em;
    border-width: 0;
    @include border-radius(0.25rem);
    padding: 0.4em 0.5em;
    background: $accent2 $url_2 top;
    height: auto;
    -webkit-background-size: cover;
    -o-background-size: cover;
    -ms-background-size: cover;
    color: $button-color;
    font-weight: 600;
    font-size: 1em;
    &:hover {
        background-color: $accent-focus;
    }
    &:active {
        background-color: $accent-focus;
    }
    &:disabled {
        background-color: $button-disabled;
    }
}

#login {
    padding-top: 15%;
    #login-container {
        width: 22em;
        margin: auto;
        line-height: 1.5;
        font-size: 0.9em;
        &.error {
            width: 22em;
            margin: auto;
            line-height: 1.5;
            font-size: 0.9em;
        }
    }
    #site-logo {
        display: block;
        margin: sidedValues(0, auto, 10px, auto);
        max-width: 10em;
        max-height: 3.5em;
    }
    #cms-logo {
        float: $end-side;
    }
    #logo-text {
        float: $end-side;
        margin: sidedValues(0.75em, 0.5em, 0, 0);
        font-weight: bold;
        font-size: 0.75rem;
    }
    #goto {
        position: absolute;
        background: transparent $url_25 no-repeat scroll center center;
        top: 2em;
        #{$end-side}: 2em;
        height: 22px;
        width: 22px;
//      outline: 0;
        text-decoration: none;
        cursor: pointer;
        z-index: 40;
    }
    #forgotpw {
        float: $end-side;
        margin: 3px; // space for focus-indication
        line-height: 2.25;
        font-size: 0.9rem;
        a {
            padding: .5rem 0;
            text-decoration: none;
            cursor: pointer;
        }
    }
    #login-box {
        position: relative;
        min-width: 17em;
        background-color: $accent1;
        @include border-radius(0.25em);
        margin: 0 auto;
        padding: 2em 2em 1em 2em;
        @include panel-shadow($box-shadow, $box-shadow-default);
    }
    h1 {
        margin: 0 auto;
        max-width: 19em;
        color: $fore-color;
        font-size: 1em;
        text-align: center;
    }
    label {
        color: $fore-color;
        font-size: 0.9em;
    }
    input[type="text"] {
        margin: 1em 0 0;
        width: 17em;
    }
    input[type="password"] {
        margin: 1em 0 0;
        width: 17em;
    }
    #toggle-info {
        position: absolute;
        background: $url_7 no-repeat scroll center center;
        top: 2em;
        #{$start-side}: 2em;
        height: 1.75rem;
        width: 1.75rem;
//      outline: 0;
//      text-indent: sidedSingle(-9999em);
        z-index: 40;
        &:active, &:focus {
            outline: 1px solid $fore-color;
            outline-offset: 0;
        }
    }
    .login-info {
        border: 1px solid $info-border;
        @include border-radius(0.25rem);
        padding: 6px 10px;
        background-color: $info-back;
        color: $info-color;
        font-size: 1.1rem;
    }
    #info-wrapper {
        display: none;
        position: absolute;
        top: 3.5em;
        #{$start-side}: 0.5em;
        max-width: 17.5em;
        z-index: 20;
        cursor: pointer;
        &.open {
            display: block;
        }
        ol {
            margin: sidedValues(0, 0, 0, 1.5em);
            list-style: decimal;
        }
        h2 {
            font-size: 1em;
            margin: 5px 0;
        }
        .info p.warning {
            background-image: none;
            margin-top: 5px;
            padding: 5px;
        }
    }
}

@media screen and (max-width: 63.98rem) {
    body {
        margin: 0;
        min-width: 100%;
        padding: 0;
    }

    #ggp_header {
        #cms-text {
            display: none;
        }
    }
    header .breadcrumbs {
        display: none;
    }
    th {
        &.pagew10 {
            width: auto;
            padding: 0;
            max-width: 30px;
            word-wrap: break-word;
            //text-overflow: elipsis;
        }
        &.pagew25 {
            width: auto;
            padding: 0;
            max-width: 30px;
            word-wrap: break-word;
            //text-overflow: elipsis;
        }
        &.pagew50 {
            width: auto;
            padding: 0;
            max-width: 30px;
            word-wrap: break-word;
            //text-overflow: elipsis;
        }
        &.pagew60 {
            width: auto;
            padding: 0;
            max-width: 30px;
            word-wrap: break-word;
            //text-overflow: elipsis;
        }
        &.pagew70 {
            width: auto;
            padding: 0;
            max-width: 30px;
            word-wrap: break-word;
            //text-overflow: elipsis;
        }
    }

    td.pagew30 {
        width: auto;
        padding: 0;
        max-width: 30px;
        word-wrap: break-word;
        //text-overflow: elipsis;
    }

    article.content-inner {
        margin-#{$start-side}: 2.5em;
    }
    a {
        outline: 0;
    }
    .checkbox {
        padding-#{$start-side}: 0;
    }
    .move {
        padding: 0;
        width: auto;
        max-width: 30px;
        word-wrap: break-word;
        //text-overflow: elipsis;
    }
    .spacer {
        display: none;
    }
    .drop {
        display: none;
    }
    .dashboard-box {
        max-width: 95%;
        img {
            display: inline;
        }
    }
    fieldset {
        max-width: 95%;
    }
    form {
        max-width: 95%;
    }
    input {
        max-width: 95%;
        height: auto;
    }
    select {
        max-width: 95%;
        height: auto;
        -webkit-appearance: listbox;
        -moz-appearance: listbox;
        appearance: listbox;
    }
    textarea {
        min-width: auto;
        max-width: 40em;
        height: auto;
    }
    iframe {
        max-width: 95%;
    }

    #login #wrapper {
        padding-top: 2%;
    }
}

@media screen and (max-width: 47.98rem) {
    #ggp_header {
        #system-text {
            display: none;
        }
    }
}

@media screen and (max-width: 39.98rem) {
    #ggp_header {
        #site-logo {
            margin: 0.1em;
            text-align: center;
        }
        .site-text {
            display: none;
        }
    }
    #shortcuts {
        ul {
            margin-#{$end-side}: 2px;
        }
        li {
            padding: 0 2px;
            a span.shortcuticon {
                padding: 2px;
            }
        }
    }
@if false {
    #ggp_content {
        margin: 0;
    }
}
    #page_tabs {
        margin-top: 0;
    }
    // responsive table -- CSS solution: scroll left/right
    table.pagetable {
        border-collapse: collapse;
        width: 100%;
        margin: sidedValues(5px, 0, 1rem, 1rem);
        overflow-x: auto;
        display: block;
        // padding-bottom: 2rem;
    }
    header div.admin-title {
        display: none;
    }
@if false {
    #cms-text {
//        display: none; ibid
    }
}
    // design-manager stuff ?
    #template_area .pagetable {
        display: table;
        tr {
            th {
                display: none;
                &:nth-child(3) {
                    display: table-cell;
                    width: 100%;
                }
            }
            td {
                display: none;
                &:nth-child(3) {
                    display: table-cell;
                    width: 100%;
                }
            }
        }
    }
    #stylesheet_area .pagetable {
        display: table;
        tr {
            th {
                display: none;
                &:nth-child(3) {
                    display: table-cell;
                    width: 100%;
                }
            }
            td {
                display: none;
                &:nth-child(3) {
                    display: table-cell;
                    width: 100%;
                }
            }
        }
    }
    #designs_c .pagetable {
        display: table;
        tr {
            th {
                display: none;
                &:nth-child(2) {
                    display: table-cell;
                    width: 100%;
                }
            }
            td {
                display: none;
                &:nth-child(2) {
                    display: table-cell;
                    width: 100%;
                }
            }
        }
    }
    #types_c .pagetable {
        display: table;
        tr {
            th {
                display: none;
                &:nth-child(2) {
                    display: table-cell;
                    width: 100%;
                }
            }
            td {
                display: none;
                &:nth-child(2) {
                    display: table-cell;
                    width: 100%;
                }
            }
        }
    }
    #contenttable tr {
        th {
            &:nth-child(2) {
                display: none;
            }
            &:nth-child(7) {
                display: none;
            }
            &:nth-child(8) {
                display: none;
            }
            &:nth-child(9) {
                display: none;
            }
            &:nth-child(12) {
                display: none;
            }
            &:nth-child(13) {
                display: none;
            }
        }
        td {
            &:nth-child(2) {
                display: none;
            }
            &:nth-child(7) {
                display: none;
            }
            &:nth-child(8) {
                display: none;
            }
            &:nth-child(9) {
                display: none;
            }
            &:nth-child(12) {
                display: none;
            }
            &:nth-child(13) {
                display: none;
            }
        }
    }
}

@media screen and (max-width: 29.98rem) {
    #cms-logo {
        width: 2em;
        background: transparent $logo_png no-repeat $start-side;
        background: transparent $logo_svg no-repeat $start-side;
        background-size: 2em 2em;
        > a {
            padding: 1em; // b/g sizes / 2
        }
    }

    #site-text, #system-text {
        display: none;
    }

    .footer-left {
        display: none;
    }
    .pagemcontainer {
        #{$start-side}: 5%;
        #{$end-side}: 5%;
        width: auto;
    }
    .pageerrorcontainer {
        #{$start-side}: 5%;
        #{$end-side}: 5%;
        width: auto;
    }
    .pageerrorinstalldir {
        #{$start-side}: 5%;
        #{$end-side}: 5%;
        width: auto;
    }
    textarea {
        max-width: 23em;
    }
    select {
        max-width: 23em;
    }
    #login {
        .login-container {
            width: 30em;
            &#error {
                width: 30em;
            }
        }
        .login-box {
            width: 28em;
        }
        #info-wrapper {
            display: none;
            /*max-width: less than 21.5em;? */
        }
        input[type="text"] {
            width: 24em;
        }
        input[type="password"] {
            width: 24em;
        }
    }
    #ggp_header span.user {
        display: none;
    }
    aside.message {
        #{$start-side}: 5%;
        #{$end-side}: 5%;
        width: auto;
    }
}

@media screen and (max-width: 19.98rem) {
    #cms-logo {
        display: none;
    }
}

@media screen {
    .tooltip {
        padding: 0.25em 0.5em;
        background: $accent1;
        font-size: 0.9em;
        color: $fore-color;
//        & > .arrow {
//            border-top-color: $accent2;
//        }
//        &.top > .arrow {
//            border-bottom-color: $accent2;
//        }
    }
}

//@supports (display: grid) {
// stuff to use when css-grid is supported by the browser
//}
